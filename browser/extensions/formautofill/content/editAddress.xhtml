<?xml version="1.0" encoding="UTF-8"?>
<!-- This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title data-l10n-id="autofill-add-address-title"></title>
    <link rel="localization" href="browser/preferences/formAutofill.ftl" />
    <link
      rel="stylesheet"
      href="chrome://formautofill/content/skin/editDialog-shared.css"
    />
    <link
      rel="stylesheet"
      href="chrome://formautofill/content/skin/editAddress.css"
    />
    <link
      rel="stylesheet"
      href="chrome://formautofill/content/skin/editDialog.css"
    />
    <script
      type="module"
      src="chrome://global/content/elements/moz-button-group.mjs"
    ></script>
  </head>
  <body>
    <form id="form" class="editAddressForm" autocomplete="off"></form>
    <div id="controls-container">
      <span
        id="country-warning-message"
        data-l10n-id="autofill-country-warning-message"
      />
      <moz-button-group>
        <button id="cancel" data-l10n-id="autofill-cancel-button" />
        <button id="save" class="primary" data-l10n-id="autofill-save-button" />
      </moz-button-group>
    </div>
    <!-- eslint-disable -->
    <script type="module">
      import { createFormLayoutFromRecord } from "chrome://formautofill/content/addressFormLayout.mjs";
      import { EditAddressDialog } from "chrome://formautofill/content/editDialog.mjs";

      const { record, noValidate, l10nStrings } = window.arguments?.[0] ?? {};
      const formElement = document.querySelector("form");
      formElement.noValidate = !!noValidate;
      createFormLayoutFromRecord(formElement, record, l10nStrings);

      new EditAddressDialog(
        {
          title: document.querySelector("title"),
          cancel: document.getElementById("cancel"),
          save: document.getElementById("save"),
        },
        record
      );
    </script>
    <!-- eslint-enable -->
  </body>
</html>
