<!doctype html>
<html>
  <head>
    <meta charset="utf-8" content="width=device-width, height=device-height" />
    <title>Print iframes</title>
  </head>
  <style>
    .box {
      height: 200vh;
      width: 100vw;
    }
    @media screen {
      .background {
        background-color: rgb(255, 0, 0);
        color-adjust: exact;
      }
    }
    @media print {
      .background {
        background-color: rgb(0, 255, 0);
        color-adjust: exact;
      }
    }
  </style>

  <body>
    <div id="content" class="box background"></div>
  </body>

  <!-- The window.print should freeze the page before removing the content, so the background should remain present. -->
  <button
    id="print-button-page"
    onclick="window.print(); document.getElementById('content').remove()"
  >
    Print
  </button>

  <iframe id="iframe" src="print_content_change.html"></iframe>
</html>
