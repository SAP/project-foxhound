<!-- Any copyright is dedicated to the Public Domain.
     http://creativecommons.org/publicdomain/zero/1.0/ -->
<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>Network Observer missing service worker test page</title>
  </head>

  <body>
    <p>Network Observer test page</p>
    <script type="text/javascript">
      /* exported registerServiceWorker */
      "use strict";

      function registerServiceWorker() {
        const sw = navigator.serviceWorker;
        // NOTE: This service worker file does not exist which enables testing
        // that a 404 requests is received.
        return sw.register("serviceworker-missing.js")
          .then(registration => {
            throw new Error("The Service Worker file should not exist");
          }).catch(err => {
            console.log("Registration failed as expected");
          });
      }
    </script>
  </body>
</html>
