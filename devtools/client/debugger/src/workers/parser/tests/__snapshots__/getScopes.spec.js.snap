// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Parser.getScopes finds scope bindings and exclude Flowtype: getScopes finds scope bindings and exclude Flowtype at line 8 column 0 1`] = `
[
  {
    "bindings": {
      "aConst": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 39,
                "line": 7,
                "sourceId": "scopes/flowtype-bindings/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 7,
                "sourceId": "scopes/flowtype-bindings/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 7,
              "sourceId": "scopes/flowtype-bindings/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 7,
              "sourceId": "scopes/flowtype-bindings/originalSource-1",
            },
            "type": "const",
          },
        ],
        "type": "const",
      },
      "root": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 11,
                "sourceId": "scopes/flowtype-bindings/originalSource-1",
              },
              "start": {
                "column": 15,
                "line": 9,
                "sourceId": "scopes/flowtype-bindings/originalSource-1",
              },
            },
            "end": {
              "column": 28,
              "line": 9,
              "sourceId": "scopes/flowtype-bindings/originalSource-1",
            },
            "start": {
              "column": 24,
              "line": 9,
              "sourceId": "scopes/flowtype-bindings/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/flowtype-bindings/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/flowtype-bindings/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/flowtype-bindings/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/flowtype-bindings/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "window": {
        "refs": [
          {
            "end": {
              "column": 22,
              "line": 7,
              "sourceId": "scopes/flowtype-bindings/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 16,
              "line": 7,
              "sourceId": "scopes/flowtype-bindings/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/flowtype-bindings/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/flowtype-bindings/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings and exclude Flowtype: getScopes finds scope bindings and exclude Flowtype at line 10 column 0 1`] = `
[
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "root",
    "end": {
      "column": 1,
      "line": 11,
      "sourceId": "scopes/flowtype-bindings/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 15,
      "line": 9,
      "sourceId": "scopes/flowtype-bindings/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "aConst": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 39,
                "line": 7,
                "sourceId": "scopes/flowtype-bindings/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 7,
                "sourceId": "scopes/flowtype-bindings/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 7,
              "sourceId": "scopes/flowtype-bindings/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 7,
              "sourceId": "scopes/flowtype-bindings/originalSource-1",
            },
            "type": "const",
          },
        ],
        "type": "const",
      },
      "root": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 11,
                "sourceId": "scopes/flowtype-bindings/originalSource-1",
              },
              "start": {
                "column": 15,
                "line": 9,
                "sourceId": "scopes/flowtype-bindings/originalSource-1",
              },
            },
            "end": {
              "column": 28,
              "line": 9,
              "sourceId": "scopes/flowtype-bindings/originalSource-1",
            },
            "start": {
              "column": 24,
              "line": 9,
              "sourceId": "scopes/flowtype-bindings/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/flowtype-bindings/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/flowtype-bindings/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/flowtype-bindings/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/flowtype-bindings/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "window": {
        "refs": [
          {
            "end": {
              "column": 22,
              "line": 7,
              "sourceId": "scopes/flowtype-bindings/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 16,
              "line": 7,
              "sourceId": "scopes/flowtype-bindings/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/flowtype-bindings/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/flowtype-bindings/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for arrow functions: getScopes finds scope bindings for arrow functions at line 2 column 0 1`] = `
[
  {
    "bindings": {
      "outer": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 2,
                "line": 11,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
            },
            "end": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 3,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
      "this": {
        "refs": [
          {
            "end": {
              "column": 18,
              "line": 4,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 14,
              "line": 4,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "console": {
        "refs": [
          {
            "end": {
              "column": 9,
              "line": 4,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 13,
                "line": 4,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 2,
                "line": 4,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 2,
              "line": 4,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 13,
              "line": 8,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 17,
                "line": 8,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 6,
                "line": 8,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 6,
              "line": 8,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for arrow functions: getScopes finds scope bindings for arrow functions at line 4 column 0 1`] = `
[
  {
    "bindings": {
      "p1": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 11,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
              "start": {
                "column": 12,
                "line": 3,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
            },
            "end": {
              "column": 15,
              "line": 3,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "start": {
              "column": 13,
              "line": 3,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "type": "fn-param",
          },
        ],
        "type": "var",
      },
    },
    "displayName": "outer",
    "end": {
      "column": 1,
      "line": 11,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 13,
      "line": 3,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "outer": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 2,
                "line": 11,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
            },
            "end": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 3,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
      "this": {
        "refs": [
          {
            "end": {
              "column": 18,
              "line": 4,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 14,
              "line": 4,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "console": {
        "refs": [
          {
            "end": {
              "column": 9,
              "line": 4,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 13,
                "line": 4,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 2,
                "line": 4,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 2,
              "line": 4,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 13,
              "line": 8,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 17,
                "line": 8,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 6,
                "line": 8,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 6,
              "line": 8,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for arrow functions: getScopes finds scope bindings for arrow functions at line 7 column 0 1`] = `
[
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "inner": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 6,
                "line": 9,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 7,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 7,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 7,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [
          {
            "end": {
              "column": 22,
              "line": 8,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 18,
              "line": 8,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "implicit",
      },
    },
    "displayName": "anonymous",
    "end": {
      "column": 3,
      "line": 10,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 3,
      "line": 6,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "p1": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 11,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
              "start": {
                "column": 12,
                "line": 3,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
            },
            "end": {
              "column": 15,
              "line": 3,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "start": {
              "column": 13,
              "line": 3,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "type": "fn-param",
          },
        ],
        "type": "var",
      },
    },
    "displayName": "outer",
    "end": {
      "column": 1,
      "line": 11,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 13,
      "line": 3,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "outer": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 2,
                "line": 11,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
            },
            "end": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 3,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
      "this": {
        "refs": [
          {
            "end": {
              "column": 18,
              "line": 4,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 14,
              "line": 4,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "console": {
        "refs": [
          {
            "end": {
              "column": 9,
              "line": 4,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 13,
                "line": 4,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 2,
                "line": 4,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 2,
              "line": 4,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 13,
              "line": 8,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 17,
                "line": 8,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 6,
                "line": 8,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 6,
              "line": 8,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for arrow functions: getScopes finds scope bindings for arrow functions at line 8 column 0 1`] = `
[
  {
    "bindings": {
      "p2": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 5,
                "line": 9,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
              "start": {
                "column": 16,
                "line": 7,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
            },
            "end": {
              "column": 19,
              "line": 7,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "start": {
              "column": 17,
              "line": 7,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "type": "fn-param",
          },
        ],
        "type": "var",
      },
    },
    "displayName": "inner",
    "end": {
      "column": 5,
      "line": 9,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 17,
      "line": 7,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "inner": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 6,
                "line": 9,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 7,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 7,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 7,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [
          {
            "end": {
              "column": 22,
              "line": 8,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 18,
              "line": 8,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "implicit",
      },
    },
    "displayName": "anonymous",
    "end": {
      "column": 3,
      "line": 10,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 3,
      "line": 6,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "p1": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 11,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
              "start": {
                "column": 12,
                "line": 3,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
            },
            "end": {
              "column": 15,
              "line": 3,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "start": {
              "column": 13,
              "line": 3,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "type": "fn-param",
          },
        ],
        "type": "var",
      },
    },
    "displayName": "outer",
    "end": {
      "column": 1,
      "line": 11,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 13,
      "line": 3,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "outer": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 2,
                "line": 11,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
            },
            "end": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 3,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
      "this": {
        "refs": [
          {
            "end": {
              "column": 18,
              "line": 4,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 14,
              "line": 4,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "console": {
        "refs": [
          {
            "end": {
              "column": 9,
              "line": 4,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 13,
                "line": 4,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 2,
                "line": 4,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 2,
              "line": 4,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 13,
              "line": 8,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 17,
                "line": 8,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 6,
                "line": 8,
                "sourceId": "scopes/arrow-function/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 6,
              "line": 8,
              "sourceId": "scopes/arrow-function/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/arrow-function/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for block statements: getScopes finds scope bindings for block statements at line 2 column 0 1`] = `
[
  {
    "bindings": {
      "first": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 10,
                "line": 3,
                "sourceId": "scopes/block-statement/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/block-statement/originalSource-1",
              },
            },
            "end": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/block-statement/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 3,
              "sourceId": "scopes/block-statement/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
      "second": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 13,
                "line": 6,
                "sourceId": "scopes/block-statement/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 6,
                "sourceId": "scopes/block-statement/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 6,
              "sourceId": "scopes/block-statement/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 6,
              "sourceId": "scopes/block-statement/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "seventh": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 13,
                "sourceId": "scopes/block-statement/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 13,
                "sourceId": "scopes/block-statement/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 13,
              "sourceId": "scopes/block-statement/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 13,
              "sourceId": "scopes/block-statement/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/block-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/block-statement/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/block-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/block-statement/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/block-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/block-statement/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for block statements: getScopes finds scope bindings for block statements at line 6 column 0 1`] = `
[
  {
    "bindings": {
      "Fourth": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 17,
                "line": 8,
                "sourceId": "scopes/block-statement/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 8,
                "sourceId": "scopes/block-statement/originalSource-1",
              },
            },
            "end": {
              "column": 14,
              "line": 8,
              "sourceId": "scopes/block-statement/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 8,
              "sourceId": "scopes/block-statement/originalSource-1",
            },
            "type": "class-decl",
          },
        ],
        "type": "let",
      },
      "fifth": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 9,
                "sourceId": "scopes/block-statement/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 9,
                "sourceId": "scopes/block-statement/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 9,
              "sourceId": "scopes/block-statement/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 9,
              "sourceId": "scopes/block-statement/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
      "sixth": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 18,
                "line": 10,
                "sourceId": "scopes/block-statement/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 10,
                "sourceId": "scopes/block-statement/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 10,
              "sourceId": "scopes/block-statement/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 10,
              "sourceId": "scopes/block-statement/originalSource-1",
            },
            "type": "const",
          },
        ],
        "type": "const",
      },
      "third": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 21,
                "line": 7,
                "sourceId": "scopes/block-statement/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 7,
                "sourceId": "scopes/block-statement/originalSource-1",
              },
            },
            "end": {
              "column": 16,
              "line": 7,
              "sourceId": "scopes/block-statement/originalSource-1",
            },
            "start": {
              "column": 11,
              "line": 7,
              "sourceId": "scopes/block-statement/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "let",
      },
    },
    "displayName": "Block",
    "end": {
      "column": 1,
      "line": 11,
      "sourceId": "scopes/block-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 5,
      "sourceId": "scopes/block-statement/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "first": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 10,
                "line": 3,
                "sourceId": "scopes/block-statement/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/block-statement/originalSource-1",
              },
            },
            "end": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/block-statement/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 3,
              "sourceId": "scopes/block-statement/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
      "second": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 13,
                "line": 6,
                "sourceId": "scopes/block-statement/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 6,
                "sourceId": "scopes/block-statement/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 6,
              "sourceId": "scopes/block-statement/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 6,
              "sourceId": "scopes/block-statement/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "seventh": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 13,
                "sourceId": "scopes/block-statement/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 13,
                "sourceId": "scopes/block-statement/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 13,
              "sourceId": "scopes/block-statement/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 13,
              "sourceId": "scopes/block-statement/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/block-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/block-statement/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/block-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/block-statement/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/block-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/block-statement/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for class declarations: getScopes finds scope bindings for class declarations at line 2 column 0 1`] = `
[
  {
    "bindings": {
      "Outer": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 11,
                "sourceId": "scopes/class-declaration/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/class-declaration/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 3,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 3,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "type": "class-decl",
          },
        ],
        "type": "let",
      },
      "Second": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 15,
                "line": 14,
                "sourceId": "scopes/class-declaration/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 14,
                "sourceId": "scopes/class-declaration/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 14,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 14,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "type": "class-decl",
          },
        ],
        "type": "let",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 15,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 15,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "console": {
        "refs": [
          {
            "end": {
              "column": 15,
              "line": 7,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 19,
                "line": 7,
                "sourceId": "scopes/class-declaration/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 8,
                "line": 7,
                "sourceId": "scopes/class-declaration/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 8,
              "line": 7,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
      "decorator": {
        "refs": [
          {
            "end": {
              "column": 10,
              "line": 13,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 1,
              "line": 13,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 15,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for class declarations: getScopes finds scope bindings for class declarations at line 5 column 0 1`] = `
[
  {
    "bindings": {
      "Inner": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 5,
                "line": 9,
                "sourceId": "scopes/class-declaration/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 5,
                "sourceId": "scopes/class-declaration/originalSource-1",
              },
            },
            "end": {
              "column": 15,
              "line": 5,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "start": {
              "column": 10,
              "line": 5,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "type": "class-decl",
          },
        ],
        "type": "let",
      },
    },
    "displayName": "Function Body",
    "end": {
      "column": 3,
      "line": 10,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 11,
      "line": 4,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "method",
    "end": {
      "column": 3,
      "line": 10,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 2,
      "line": 4,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "Outer": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 11,
                "sourceId": "scopes/class-declaration/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/class-declaration/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 3,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 3,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "type": "class-inner",
          },
        ],
        "type": "const",
      },
    },
    "displayName": "Class",
    "end": {
      "column": 1,
      "line": 11,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 3,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "Outer": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 11,
                "sourceId": "scopes/class-declaration/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/class-declaration/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 3,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 3,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "type": "class-decl",
          },
        ],
        "type": "let",
      },
      "Second": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 15,
                "line": 14,
                "sourceId": "scopes/class-declaration/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 14,
                "sourceId": "scopes/class-declaration/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 14,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 14,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "type": "class-decl",
          },
        ],
        "type": "let",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 15,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 15,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "console": {
        "refs": [
          {
            "end": {
              "column": 15,
              "line": 7,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 19,
                "line": 7,
                "sourceId": "scopes/class-declaration/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 8,
                "line": 7,
                "sourceId": "scopes/class-declaration/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 8,
              "line": 7,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
      "decorator": {
        "refs": [
          {
            "end": {
              "column": 10,
              "line": 13,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 1,
              "line": 13,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 15,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for class declarations: getScopes finds scope bindings for class declarations at line 7 column 0 1`] = `
[
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "this": {
        "refs": [
          {
            "end": {
              "column": 24,
              "line": 7,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 20,
              "line": 7,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "implicit",
      },
    },
    "displayName": "m",
    "end": {
      "column": 7,
      "line": 8,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 6,
      "line": 6,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "Inner": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 5,
                "line": 9,
                "sourceId": "scopes/class-declaration/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 5,
                "sourceId": "scopes/class-declaration/originalSource-1",
              },
            },
            "end": {
              "column": 15,
              "line": 5,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "start": {
              "column": 10,
              "line": 5,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "type": "class-inner",
          },
        ],
        "type": "const",
      },
    },
    "displayName": "Class",
    "end": {
      "column": 5,
      "line": 9,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 4,
      "line": 5,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "Inner": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 5,
                "line": 9,
                "sourceId": "scopes/class-declaration/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 5,
                "sourceId": "scopes/class-declaration/originalSource-1",
              },
            },
            "end": {
              "column": 15,
              "line": 5,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "start": {
              "column": 10,
              "line": 5,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "type": "class-decl",
          },
        ],
        "type": "let",
      },
    },
    "displayName": "Function Body",
    "end": {
      "column": 3,
      "line": 10,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 11,
      "line": 4,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "method",
    "end": {
      "column": 3,
      "line": 10,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 2,
      "line": 4,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "Outer": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 11,
                "sourceId": "scopes/class-declaration/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/class-declaration/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 3,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 3,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "type": "class-inner",
          },
        ],
        "type": "const",
      },
    },
    "displayName": "Class",
    "end": {
      "column": 1,
      "line": 11,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 3,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "Outer": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 11,
                "sourceId": "scopes/class-declaration/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/class-declaration/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 3,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 3,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "type": "class-decl",
          },
        ],
        "type": "let",
      },
      "Second": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 15,
                "line": 14,
                "sourceId": "scopes/class-declaration/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 14,
                "sourceId": "scopes/class-declaration/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 14,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 14,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "type": "class-decl",
          },
        ],
        "type": "let",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 15,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 15,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "console": {
        "refs": [
          {
            "end": {
              "column": 15,
              "line": 7,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 19,
                "line": 7,
                "sourceId": "scopes/class-declaration/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 8,
                "line": 7,
                "sourceId": "scopes/class-declaration/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 8,
              "line": 7,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
      "decorator": {
        "refs": [
          {
            "end": {
              "column": 10,
              "line": 13,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 1,
              "line": 13,
              "sourceId": "scopes/class-declaration/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 15,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-declaration/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for class expressions: getScopes finds scope bindings for class expressions at line 2 column 0 1`] = `
[
  {
    "bindings": {
      "Outer": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 2,
                "line": 11,
                "sourceId": "scopes/class-expression/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/class-expression/originalSource-1",
              },
            },
            "end": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/class-expression/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 3,
              "sourceId": "scopes/class-expression/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/class-expression/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-expression/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/class-expression/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-expression/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "console": {
        "refs": [
          {
            "end": {
              "column": 15,
              "line": 7,
              "sourceId": "scopes/class-expression/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 19,
                "line": 7,
                "sourceId": "scopes/class-expression/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 8,
                "line": 7,
                "sourceId": "scopes/class-expression/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 8,
              "line": 7,
              "sourceId": "scopes/class-expression/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/class-expression/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-expression/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for class expressions: getScopes finds scope bindings for class expressions at line 5 column 0 1`] = `
[
  {
    "bindings": {
      "Inner": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 6,
                "line": 9,
                "sourceId": "scopes/class-expression/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 5,
                "sourceId": "scopes/class-expression/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 5,
              "sourceId": "scopes/class-expression/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 5,
              "sourceId": "scopes/class-expression/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "method",
    "end": {
      "column": 3,
      "line": 10,
      "sourceId": "scopes/class-expression/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 2,
      "line": 4,
      "sourceId": "scopes/class-expression/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "Outer": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 11,
                "sourceId": "scopes/class-expression/originalSource-1",
              },
              "start": {
                "column": 12,
                "line": 3,
                "sourceId": "scopes/class-expression/originalSource-1",
              },
            },
            "end": {
              "column": 23,
              "line": 3,
              "sourceId": "scopes/class-expression/originalSource-1",
            },
            "start": {
              "column": 18,
              "line": 3,
              "sourceId": "scopes/class-expression/originalSource-1",
            },
            "type": "class-inner",
          },
        ],
        "type": "const",
      },
    },
    "displayName": "Class",
    "end": {
      "column": 1,
      "line": 11,
      "sourceId": "scopes/class-expression/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 12,
      "line": 3,
      "sourceId": "scopes/class-expression/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "Outer": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 2,
                "line": 11,
                "sourceId": "scopes/class-expression/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/class-expression/originalSource-1",
              },
            },
            "end": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/class-expression/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 3,
              "sourceId": "scopes/class-expression/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/class-expression/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-expression/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/class-expression/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-expression/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "console": {
        "refs": [
          {
            "end": {
              "column": 15,
              "line": 7,
              "sourceId": "scopes/class-expression/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 19,
                "line": 7,
                "sourceId": "scopes/class-expression/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 8,
                "line": 7,
                "sourceId": "scopes/class-expression/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 8,
              "line": 7,
              "sourceId": "scopes/class-expression/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/class-expression/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-expression/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for class expressions: getScopes finds scope bindings for class expressions at line 7 column 0 1`] = `
[
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "this": {
        "refs": [
          {
            "end": {
              "column": 24,
              "line": 7,
              "sourceId": "scopes/class-expression/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 20,
              "line": 7,
              "sourceId": "scopes/class-expression/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "implicit",
      },
    },
    "displayName": "m",
    "end": {
      "column": 7,
      "line": 8,
      "sourceId": "scopes/class-expression/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 6,
      "line": 6,
      "sourceId": "scopes/class-expression/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "Inner": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 6,
                "line": 9,
                "sourceId": "scopes/class-expression/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 5,
                "sourceId": "scopes/class-expression/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 5,
              "sourceId": "scopes/class-expression/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 5,
              "sourceId": "scopes/class-expression/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "method",
    "end": {
      "column": 3,
      "line": 10,
      "sourceId": "scopes/class-expression/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 2,
      "line": 4,
      "sourceId": "scopes/class-expression/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "Outer": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 11,
                "sourceId": "scopes/class-expression/originalSource-1",
              },
              "start": {
                "column": 12,
                "line": 3,
                "sourceId": "scopes/class-expression/originalSource-1",
              },
            },
            "end": {
              "column": 23,
              "line": 3,
              "sourceId": "scopes/class-expression/originalSource-1",
            },
            "start": {
              "column": 18,
              "line": 3,
              "sourceId": "scopes/class-expression/originalSource-1",
            },
            "type": "class-inner",
          },
        ],
        "type": "const",
      },
    },
    "displayName": "Class",
    "end": {
      "column": 1,
      "line": 11,
      "sourceId": "scopes/class-expression/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 12,
      "line": 3,
      "sourceId": "scopes/class-expression/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "Outer": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 2,
                "line": 11,
                "sourceId": "scopes/class-expression/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/class-expression/originalSource-1",
              },
            },
            "end": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/class-expression/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 3,
              "sourceId": "scopes/class-expression/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/class-expression/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-expression/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/class-expression/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-expression/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "console": {
        "refs": [
          {
            "end": {
              "column": 15,
              "line": 7,
              "sourceId": "scopes/class-expression/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 19,
                "line": 7,
                "sourceId": "scopes/class-expression/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 8,
                "line": 7,
                "sourceId": "scopes/class-expression/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 8,
              "line": 7,
              "sourceId": "scopes/class-expression/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/class-expression/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-expression/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for class properties: getScopes finds scope bindings for class properties at line 2 column 0 1`] = `
[
  {
    "bindings": {
      "Foo": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 10,
                "sourceId": "scopes/class-property/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/class-property/originalSource-1",
              },
            },
            "end": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/class-property/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 3,
              "sourceId": "scopes/class-property/originalSource-1",
            },
            "type": "class-decl",
          },
        ],
        "type": "let",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 11,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 11,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 11,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for class properties: getScopes finds scope bindings for class properties at line 4 column 16 1`] = `
[
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "this": {
        "refs": [
          {
            "end": {
              "column": 13,
              "line": 4,
              "sourceId": "scopes/class-property/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 18,
                "line": 4,
                "sourceId": "scopes/class-property/originalSource-1",
              },
              "parent": {
                "end": {
                  "column": 20,
                  "line": 4,
                  "sourceId": "scopes/class-property/originalSource-1",
                },
                "parent": null,
                "start": {
                  "column": 9,
                  "line": 4,
                  "sourceId": "scopes/class-property/originalSource-1",
                },
                "type": "call",
              },
              "property": "init",
              "start": {
                "column": 9,
                "line": 4,
                "sourceId": "scopes/class-property/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 9,
              "line": 4,
              "sourceId": "scopes/class-property/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "implicit",
      },
    },
    "displayName": "Class Field",
    "end": {
      "column": 20,
      "line": 4,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 9,
      "line": 4,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "Foo": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 10,
                "sourceId": "scopes/class-property/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/class-property/originalSource-1",
              },
            },
            "end": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/class-property/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 3,
              "sourceId": "scopes/class-property/originalSource-1",
            },
            "type": "class-inner",
          },
        ],
        "type": "const",
      },
    },
    "displayName": "Class",
    "end": {
      "column": 1,
      "line": 10,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 3,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "Foo": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 10,
                "sourceId": "scopes/class-property/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/class-property/originalSource-1",
              },
            },
            "end": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/class-property/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 3,
              "sourceId": "scopes/class-property/originalSource-1",
            },
            "type": "class-decl",
          },
        ],
        "type": "let",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 11,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 11,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 11,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for class properties: getScopes finds scope bindings for class properties at line 6 column 12 1`] = `
[
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "one": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 7,
                "sourceId": "scopes/class-property/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 7,
                "sourceId": "scopes/class-property/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 7,
              "sourceId": "scopes/class-property/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 7,
              "sourceId": "scopes/class-property/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Class Field",
    "end": {
      "column": 3,
      "line": 9,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 10,
      "line": 6,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "Foo": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 10,
                "sourceId": "scopes/class-property/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/class-property/originalSource-1",
              },
            },
            "end": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/class-property/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 3,
              "sourceId": "scopes/class-property/originalSource-1",
            },
            "type": "class-inner",
          },
        ],
        "type": "const",
      },
    },
    "displayName": "Class",
    "end": {
      "column": 1,
      "line": 10,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 3,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "Foo": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 10,
                "sourceId": "scopes/class-property/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/class-property/originalSource-1",
              },
            },
            "end": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/class-property/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 3,
              "sourceId": "scopes/class-property/originalSource-1",
            },
            "type": "class-decl",
          },
        ],
        "type": "let",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 11,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 11,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 11,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for class properties: getScopes finds scope bindings for class properties at line 7 column 0 1`] = `
[
  {
    "bindings": {
      "two": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 8,
                "sourceId": "scopes/class-property/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 8,
                "sourceId": "scopes/class-property/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 8,
              "sourceId": "scopes/class-property/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 8,
              "sourceId": "scopes/class-property/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
    },
    "displayName": "Block",
    "end": {
      "column": 3,
      "line": 9,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 13,
      "line": 6,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "one": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 7,
                "sourceId": "scopes/class-property/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 7,
                "sourceId": "scopes/class-property/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 7,
              "sourceId": "scopes/class-property/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 7,
              "sourceId": "scopes/class-property/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Class Field",
    "end": {
      "column": 3,
      "line": 9,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 10,
      "line": 6,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "Foo": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 10,
                "sourceId": "scopes/class-property/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/class-property/originalSource-1",
              },
            },
            "end": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/class-property/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 3,
              "sourceId": "scopes/class-property/originalSource-1",
            },
            "type": "class-inner",
          },
        ],
        "type": "const",
      },
    },
    "displayName": "Class",
    "end": {
      "column": 1,
      "line": 10,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 3,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "Foo": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 10,
                "sourceId": "scopes/class-property/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/class-property/originalSource-1",
              },
            },
            "end": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/class-property/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 3,
              "sourceId": "scopes/class-property/originalSource-1",
            },
            "type": "class-decl",
          },
        ],
        "type": "let",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 11,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 11,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 11,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/class-property/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for complex binding nesting: getScopes finds scope bindings for complex binding nesting at line 16 column 4 1`] = `
[
  {
    "bindings": {
      "_arguments": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 31,
                "line": 13,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 12,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
            },
            "end": {
              "column": 18,
              "line": 13,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 13,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "var",
          },
          {
            "end": {
              "column": 35,
              "line": 19,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 25,
              "line": 19,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "var",
      },
      "_this": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 31,
                "line": 13,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 12,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 12,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 12,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "var",
          },
          {
            "end": {
              "column": 23,
              "line": 19,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 18,
              "line": 19,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "var",
      },
      "arg": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 3,
                "line": 23,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 11,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
            },
            "end": {
              "column": 17,
              "line": 11,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "start": {
              "column": 14,
              "line": 11,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "fn-param",
          },
        ],
        "type": "var",
      },
      "arguments": {
        "refs": [
          {
            "end": {
              "column": 30,
              "line": 13,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 21,
              "line": 13,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 31,
              "line": 15,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 22,
              "line": 15,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "implicit",
      },
      "arrow": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 6,
                "line": 21,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 18,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 18,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 18,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "var",
          },
          {
            "end": {
              "column": 9,
              "line": 22,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 4,
              "line": 22,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [
          {
            "end": {
              "column": 20,
              "line": 12,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 16,
              "line": 12,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 20,
              "line": 15,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 16,
              "line": 15,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "implicit",
      },
    },
    "displayName": "fn",
    "end": {
      "column": 3,
      "line": 23,
      "sourceId": "scopes/complex-nesting/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 14,
      "line": 11,
      "sourceId": "scopes/complex-nesting/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "fn": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 3,
                "line": 23,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 11,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 11,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "start": {
              "column": 11,
              "line": 11,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "fn-decl",
          },
          {
            "end": {
              "column": 32,
              "line": 16,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 30,
              "line": 16,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 34,
              "line": 20,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 32,
              "line": 20,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 4,
              "line": 25,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 9,
                "line": 25,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "parent": null,
              "property": "call",
              "start": {
                "column": 2,
                "line": 25,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 2,
              "line": 25,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "root",
    "end": {
      "column": 1,
      "line": 26,
      "sourceId": "scopes/complex-nesting/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 10,
      "sourceId": "scopes/complex-nesting/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "__webpack_require__": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 29,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 1,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
            },
            "end": {
              "column": 51,
              "line": 1,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "start": {
              "column": 32,
              "line": 1,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "fn-param",
          },
        ],
        "type": "var",
      },
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "exports": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 29,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 1,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
            },
            "end": {
              "column": 30,
              "line": 1,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "start": {
              "column": 23,
              "line": 1,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "fn-param",
          },
          {
            "end": {
              "column": 29,
              "line": 6,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 22,
              "line": 6,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 7,
              "line": 9,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 15,
                "line": 9,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "parent": null,
              "property": "default",
              "start": {
                "column": 0,
                "line": 9,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 0,
              "line": 9,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 24,
              "line": 27,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 35,
                "line": 27,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "parent": null,
              "property": "default",
              "start": {
                "column": 17,
                "line": 27,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 17,
              "line": 27,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "var",
      },
      "module": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 29,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 1,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
            },
            "end": {
              "column": 21,
              "line": 1,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "start": {
              "column": 15,
              "line": 1,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "fn-param",
          },
          {
            "end": {
              "column": 6,
              "line": 27,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 14,
                "line": 27,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "parent": null,
              "property": "exports",
              "start": {
                "column": 0,
                "line": 27,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 0,
              "line": 27,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "var",
      },
      "root": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 26,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 10,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 10,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 10,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "fn-decl",
          },
          {
            "end": {
              "column": 22,
              "line": 9,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 18,
              "line": 9,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 38,
              "line": 16,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 34,
              "line": 16,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 40,
              "line": 20,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 36,
              "line": 20,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "named",
    "end": {
      "column": 1,
      "line": 29,
      "sourceId": "scopes/complex-nesting/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 15,
      "line": 1,
      "sourceId": "scopes/complex-nesting/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 30,
      "sourceId": "scopes/complex-nesting/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/complex-nesting/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "Object": {
        "refs": [
          {
            "end": {
              "column": 6,
              "line": 6,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 21,
                "line": 6,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "parent": null,
              "property": "defineProperty",
              "start": {
                "column": 0,
                "line": 6,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 0,
              "line": 6,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
      "console": {
        "refs": [
          {
            "end": {
              "column": 11,
              "line": 15,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 15,
                "line": 15,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 4,
                "line": 15,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 4,
              "line": 15,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 11,
              "line": 16,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 15,
                "line": 16,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 4,
                "line": 16,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 4,
              "line": 16,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 13,
              "line": 19,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 17,
                "line": 19,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 6,
                "line": 19,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 6,
              "line": 19,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 13,
              "line": 20,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 17,
                "line": 20,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 6,
                "line": 20,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 6,
              "line": 20,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
      "named": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 29,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 1,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
            },
            "end": {
              "column": 14,
              "line": 1,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 1,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 30,
      "sourceId": "scopes/complex-nesting/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/complex-nesting/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for complex binding nesting: getScopes finds scope bindings for complex binding nesting at line 20 column 6 1`] = `
[
  {
    "bindings": {
      "argArrow": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 5,
                "line": 21,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "start": {
                "column": 16,
                "line": 18,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
            },
            "end": {
              "column": 39,
              "line": 18,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "start": {
              "column": 31,
              "line": 18,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "fn-param",
          },
        ],
        "type": "var",
      },
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "arrow",
    "end": {
      "column": 5,
      "line": 21,
      "sourceId": "scopes/complex-nesting/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 31,
      "line": 18,
      "sourceId": "scopes/complex-nesting/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "arrow": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 5,
                "line": 21,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "start": {
                "column": 16,
                "line": 18,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
            },
            "end": {
              "column": 30,
              "line": 18,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "start": {
              "column": 25,
              "line": 18,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "fn-expr",
          },
        ],
        "type": "const",
      },
    },
    "displayName": "Function Expression",
    "end": {
      "column": 5,
      "line": 21,
      "sourceId": "scopes/complex-nesting/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 16,
      "line": 18,
      "sourceId": "scopes/complex-nesting/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "_arguments": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 31,
                "line": 13,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 12,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
            },
            "end": {
              "column": 18,
              "line": 13,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 13,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "var",
          },
          {
            "end": {
              "column": 35,
              "line": 19,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 25,
              "line": 19,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "var",
      },
      "_this": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 31,
                "line": 13,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 12,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 12,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 12,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "var",
          },
          {
            "end": {
              "column": 23,
              "line": 19,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 18,
              "line": 19,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "var",
      },
      "arg": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 3,
                "line": 23,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 11,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
            },
            "end": {
              "column": 17,
              "line": 11,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "start": {
              "column": 14,
              "line": 11,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "fn-param",
          },
        ],
        "type": "var",
      },
      "arguments": {
        "refs": [
          {
            "end": {
              "column": 30,
              "line": 13,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 21,
              "line": 13,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 31,
              "line": 15,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 22,
              "line": 15,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "implicit",
      },
      "arrow": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 6,
                "line": 21,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 18,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 18,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 18,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "var",
          },
          {
            "end": {
              "column": 9,
              "line": 22,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 4,
              "line": 22,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [
          {
            "end": {
              "column": 20,
              "line": 12,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 16,
              "line": 12,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 20,
              "line": 15,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 16,
              "line": 15,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "implicit",
      },
    },
    "displayName": "fn",
    "end": {
      "column": 3,
      "line": 23,
      "sourceId": "scopes/complex-nesting/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 14,
      "line": 11,
      "sourceId": "scopes/complex-nesting/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "fn": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 3,
                "line": 23,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 11,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 11,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "start": {
              "column": 11,
              "line": 11,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "fn-decl",
          },
          {
            "end": {
              "column": 32,
              "line": 16,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 30,
              "line": 16,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 34,
              "line": 20,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 32,
              "line": 20,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 4,
              "line": 25,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 9,
                "line": 25,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "parent": null,
              "property": "call",
              "start": {
                "column": 2,
                "line": 25,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 2,
              "line": 25,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "root",
    "end": {
      "column": 1,
      "line": 26,
      "sourceId": "scopes/complex-nesting/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 10,
      "sourceId": "scopes/complex-nesting/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "__webpack_require__": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 29,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 1,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
            },
            "end": {
              "column": 51,
              "line": 1,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "start": {
              "column": 32,
              "line": 1,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "fn-param",
          },
        ],
        "type": "var",
      },
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "exports": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 29,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 1,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
            },
            "end": {
              "column": 30,
              "line": 1,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "start": {
              "column": 23,
              "line": 1,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "fn-param",
          },
          {
            "end": {
              "column": 29,
              "line": 6,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 22,
              "line": 6,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 7,
              "line": 9,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 15,
                "line": 9,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "parent": null,
              "property": "default",
              "start": {
                "column": 0,
                "line": 9,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 0,
              "line": 9,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 24,
              "line": 27,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 35,
                "line": 27,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "parent": null,
              "property": "default",
              "start": {
                "column": 17,
                "line": 27,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 17,
              "line": 27,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "var",
      },
      "module": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 29,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 1,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
            },
            "end": {
              "column": 21,
              "line": 1,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "start": {
              "column": 15,
              "line": 1,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "fn-param",
          },
          {
            "end": {
              "column": 6,
              "line": 27,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 14,
                "line": 27,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "parent": null,
              "property": "exports",
              "start": {
                "column": 0,
                "line": 27,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 0,
              "line": 27,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "var",
      },
      "root": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 26,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 10,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 10,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 10,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "fn-decl",
          },
          {
            "end": {
              "column": 22,
              "line": 9,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 18,
              "line": 9,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 38,
              "line": 16,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 34,
              "line": 16,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 40,
              "line": 20,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 36,
              "line": 20,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "named",
    "end": {
      "column": 1,
      "line": 29,
      "sourceId": "scopes/complex-nesting/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 15,
      "line": 1,
      "sourceId": "scopes/complex-nesting/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 30,
      "sourceId": "scopes/complex-nesting/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/complex-nesting/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "Object": {
        "refs": [
          {
            "end": {
              "column": 6,
              "line": 6,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 21,
                "line": 6,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "parent": null,
              "property": "defineProperty",
              "start": {
                "column": 0,
                "line": 6,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 0,
              "line": 6,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
      "console": {
        "refs": [
          {
            "end": {
              "column": 11,
              "line": 15,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 15,
                "line": 15,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 4,
                "line": 15,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 4,
              "line": 15,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 11,
              "line": 16,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 15,
                "line": 16,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 4,
                "line": 16,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 4,
              "line": 16,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 13,
              "line": 19,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 17,
                "line": 19,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 6,
                "line": 19,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 6,
              "line": 19,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 13,
              "line": 20,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 17,
                "line": 20,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 6,
                "line": 20,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 6,
              "line": 20,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
      "named": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 29,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 1,
                "sourceId": "scopes/complex-nesting/originalSource-1",
              },
            },
            "end": {
              "column": 14,
              "line": 1,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 1,
              "sourceId": "scopes/complex-nesting/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 30,
      "sourceId": "scopes/complex-nesting/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/complex-nesting/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for declarations with patterns: getScopes finds scope bindings for declarations with patterns at line 1 column 0 1`] = `
[
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 3,
      "sourceId": "scopes/pattern-declarations/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/pattern-declarations/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "one": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 23,
                "line": 1,
                "sourceId": "scopes/pattern-declarations/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 1,
                "sourceId": "scopes/pattern-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 15,
              "line": 1,
              "sourceId": "scopes/pattern-declarations/originalSource-1",
            },
            "start": {
              "column": 12,
              "line": 1,
              "sourceId": "scopes/pattern-declarations/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
      "two": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 17,
                "line": 2,
                "sourceId": "scopes/pattern-declarations/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 2,
                "sourceId": "scopes/pattern-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 9,
              "line": 2,
              "sourceId": "scopes/pattern-declarations/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 2,
              "sourceId": "scopes/pattern-declarations/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 3,
      "sourceId": "scopes/pattern-declarations/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/pattern-declarations/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for for loops: getScopes finds scope bindings for for loops at line 2 column 0 1`] = `
[
  {
    "bindings": {
      "four": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 13,
                "line": 7,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 7,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 7,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 7,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "one": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 3,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 3,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 3,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "seven": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 14,
                "line": 11,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 11,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 14,
              "line": 11,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 11,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for for loops: getScopes finds scope bindings for for loops at line 3 column 17 1`] = `
[
  {
    "bindings": {
      "four": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 13,
                "line": 7,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 7,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 7,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 7,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "one": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 3,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 3,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 3,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "seven": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 14,
                "line": 11,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 11,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 14,
              "line": 11,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 11,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for for loops: getScopes finds scope bindings for for loops at line 4 column 17 1`] = `
[
  {
    "bindings": {
      "two": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 4,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 4,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 4,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 4,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
    },
    "displayName": "For",
    "end": {
      "column": 18,
      "line": 4,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 5,
      "line": 4,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "four": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 13,
                "line": 7,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 7,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 7,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 7,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "one": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 3,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 3,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 3,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "seven": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 14,
                "line": 11,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 11,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 14,
              "line": 11,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 11,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for for loops: getScopes finds scope bindings for for loops at line 5 column 25 1`] = `
[
  {
    "bindings": {
      "three": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 20,
                "line": 5,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 5,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 16,
              "line": 5,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 11,
              "line": 5,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "const",
          },
        ],
        "type": "const",
      },
    },
    "displayName": "For",
    "end": {
      "column": 26,
      "line": 5,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 5,
      "line": 5,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "four": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 13,
                "line": 7,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 7,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 7,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 7,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "one": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 3,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 3,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 3,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "seven": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 14,
                "line": 11,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 11,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 14,
              "line": 11,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 11,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for for loops: getScopes finds scope bindings for for loops at line 7 column 22 1`] = `
[
  {
    "bindings": {
      "four": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 13,
                "line": 7,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 7,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 7,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 7,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "one": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 3,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 3,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 3,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "seven": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 14,
                "line": 11,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 11,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 14,
              "line": 11,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 11,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for for loops: getScopes finds scope bindings for for loops at line 8 column 22 1`] = `
[
  {
    "bindings": {
      "five": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 13,
                "line": 8,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 8,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 8,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 8,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
    },
    "displayName": "For",
    "end": {
      "column": 23,
      "line": 8,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 5,
      "line": 8,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "four": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 13,
                "line": 7,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 7,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 7,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 7,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "one": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 3,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 3,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 3,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "seven": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 14,
                "line": 11,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 11,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 14,
              "line": 11,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 11,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for for loops: getScopes finds scope bindings for for loops at line 9 column 23 1`] = `
[
  {
    "bindings": {
      "six": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 14,
                "line": 9,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 9,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 14,
              "line": 9,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 11,
              "line": 9,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "const",
          },
        ],
        "type": "const",
      },
    },
    "displayName": "For",
    "end": {
      "column": 24,
      "line": 9,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 5,
      "line": 9,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "four": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 13,
                "line": 7,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 7,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 7,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 7,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "one": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 3,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 3,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 3,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "seven": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 14,
                "line": 11,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 11,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 14,
              "line": 11,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 11,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for for loops: getScopes finds scope bindings for for loops at line 11 column 23 1`] = `
[
  {
    "bindings": {
      "four": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 13,
                "line": 7,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 7,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 7,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 7,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "one": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 3,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 3,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 3,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "seven": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 14,
                "line": 11,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 11,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 14,
              "line": 11,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 11,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for for loops: getScopes finds scope bindings for for loops at line 12 column 23 1`] = `
[
  {
    "bindings": {
      "eight": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 14,
                "line": 12,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 12,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 14,
              "line": 12,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 12,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
    },
    "displayName": "For",
    "end": {
      "column": 24,
      "line": 12,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 5,
      "line": 12,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "four": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 13,
                "line": 7,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 7,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 7,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 7,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "one": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 3,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 3,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 3,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "seven": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 14,
                "line": 11,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 11,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 14,
              "line": 11,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 11,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for for loops: getScopes finds scope bindings for for loops at line 13 column 24 1`] = `
[
  {
    "bindings": {
      "nine": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 15,
                "line": 13,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 13,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 15,
              "line": 13,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 11,
              "line": 13,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "const",
          },
        ],
        "type": "const",
      },
    },
    "displayName": "For",
    "end": {
      "column": 25,
      "line": 13,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 5,
      "line": 13,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "four": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 13,
                "line": 7,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 7,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 7,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 7,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "one": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 3,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 3,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 3,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "seven": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 14,
                "line": 11,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
              "start": {
                "column": 5,
                "line": 11,
                "sourceId": "scopes/for-loops/originalSource-1",
              },
            },
            "end": {
              "column": 14,
              "line": 11,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 11,
              "sourceId": "scopes/for-loops/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 14,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/for-loops/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for function declarations: getScopes finds scope bindings for function declarations at line 2 column 0 1`] = `
[
  {
    "bindings": {
      "outer": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 21,
                "line": 3,
                "sourceId": "scopes/function-declaration/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/function-declaration/originalSource-1",
              },
            },
            "end": {
              "column": 14,
              "line": 3,
              "sourceId": "scopes/function-declaration/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/function-declaration/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "console": {
        "refs": [
          {
            "end": {
              "column": 11,
              "line": 9,
              "sourceId": "scopes/function-declaration/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 15,
                "line": 9,
                "sourceId": "scopes/function-declaration/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 4,
                "line": 9,
                "sourceId": "scopes/function-declaration/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 4,
              "line": 9,
              "sourceId": "scopes/function-declaration/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for function declarations: getScopes finds scope bindings for function declarations at line 3 column 20 1`] = `
[
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "p1": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 21,
                "line": 3,
                "sourceId": "scopes/function-declaration/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/function-declaration/originalSource-1",
              },
            },
            "end": {
              "column": 17,
              "line": 3,
              "sourceId": "scopes/function-declaration/originalSource-1",
            },
            "start": {
              "column": 15,
              "line": 3,
              "sourceId": "scopes/function-declaration/originalSource-1",
            },
            "type": "fn-param",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "outer",
    "end": {
      "column": 21,
      "line": 3,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 15,
      "line": 3,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "outer": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 21,
                "line": 3,
                "sourceId": "scopes/function-declaration/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/function-declaration/originalSource-1",
              },
            },
            "end": {
              "column": 14,
              "line": 3,
              "sourceId": "scopes/function-declaration/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/function-declaration/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "console": {
        "refs": [
          {
            "end": {
              "column": 11,
              "line": 9,
              "sourceId": "scopes/function-declaration/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 15,
                "line": 9,
                "sourceId": "scopes/function-declaration/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 4,
                "line": 9,
                "sourceId": "scopes/function-declaration/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 4,
              "line": 9,
              "sourceId": "scopes/function-declaration/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for function declarations: getScopes finds scope bindings for function declarations at line 5 column 1 1`] = `
[
  {
    "bindings": {
      "middle": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 3,
                "line": 10,
                "sourceId": "scopes/function-declaration/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 6,
                "sourceId": "scopes/function-declaration/originalSource-1",
              },
            },
            "end": {
              "column": 17,
              "line": 6,
              "sourceId": "scopes/function-declaration/originalSource-1",
            },
            "start": {
              "column": 11,
              "line": 6,
              "sourceId": "scopes/function-declaration/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "let",
      },
    },
    "displayName": "Block",
    "end": {
      "column": 1,
      "line": 11,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 5,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "outer": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 21,
                "line": 3,
                "sourceId": "scopes/function-declaration/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/function-declaration/originalSource-1",
              },
            },
            "end": {
              "column": 14,
              "line": 3,
              "sourceId": "scopes/function-declaration/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/function-declaration/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "console": {
        "refs": [
          {
            "end": {
              "column": 11,
              "line": 9,
              "sourceId": "scopes/function-declaration/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 15,
                "line": 9,
                "sourceId": "scopes/function-declaration/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 4,
                "line": 9,
                "sourceId": "scopes/function-declaration/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 4,
              "line": 9,
              "sourceId": "scopes/function-declaration/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for function declarations: getScopes finds scope bindings for function declarations at line 9 column 0 1`] = `
[
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "inner": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 25,
                "line": 7,
                "sourceId": "scopes/function-declaration/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 7,
                "sourceId": "scopes/function-declaration/originalSource-1",
              },
            },
            "end": {
              "column": 18,
              "line": 7,
              "sourceId": "scopes/function-declaration/originalSource-1",
            },
            "start": {
              "column": 13,
              "line": 7,
              "sourceId": "scopes/function-declaration/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "p2": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 3,
                "line": 10,
                "sourceId": "scopes/function-declaration/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 6,
                "sourceId": "scopes/function-declaration/originalSource-1",
              },
            },
            "end": {
              "column": 20,
              "line": 6,
              "sourceId": "scopes/function-declaration/originalSource-1",
            },
            "start": {
              "column": 18,
              "line": 6,
              "sourceId": "scopes/function-declaration/originalSource-1",
            },
            "type": "fn-param",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [
          {
            "end": {
              "column": 20,
              "line": 9,
              "sourceId": "scopes/function-declaration/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 16,
              "line": 9,
              "sourceId": "scopes/function-declaration/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "implicit",
      },
    },
    "displayName": "middle",
    "end": {
      "column": 3,
      "line": 10,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 18,
      "line": 6,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "middle": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 3,
                "line": 10,
                "sourceId": "scopes/function-declaration/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 6,
                "sourceId": "scopes/function-declaration/originalSource-1",
              },
            },
            "end": {
              "column": 17,
              "line": 6,
              "sourceId": "scopes/function-declaration/originalSource-1",
            },
            "start": {
              "column": 11,
              "line": 6,
              "sourceId": "scopes/function-declaration/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "let",
      },
    },
    "displayName": "Block",
    "end": {
      "column": 1,
      "line": 11,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 5,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "outer": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 21,
                "line": 3,
                "sourceId": "scopes/function-declaration/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/function-declaration/originalSource-1",
              },
            },
            "end": {
              "column": 14,
              "line": 3,
              "sourceId": "scopes/function-declaration/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/function-declaration/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "console": {
        "refs": [
          {
            "end": {
              "column": 11,
              "line": 9,
              "sourceId": "scopes/function-declaration/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 15,
                "line": 9,
                "sourceId": "scopes/function-declaration/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 4,
                "line": 9,
                "sourceId": "scopes/function-declaration/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 4,
              "line": 9,
              "sourceId": "scopes/function-declaration/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/function-declaration/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for function expressions: getScopes finds scope bindings for function expressions at line 2 column 0 1`] = `
[
  {
    "bindings": {
      "fn": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 25,
                "line": 3,
                "sourceId": "scopes/function-expression/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/function-expression/originalSource-1",
              },
            },
            "end": {
              "column": 6,
              "line": 3,
              "sourceId": "scopes/function-expression/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 3,
              "sourceId": "scopes/function-expression/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
      "fn2": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 2,
                "line": 7,
                "sourceId": "scopes/function-expression/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 5,
                "sourceId": "scopes/function-expression/originalSource-1",
              },
            },
            "end": {
              "column": 7,
              "line": 5,
              "sourceId": "scopes/function-expression/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 5,
              "sourceId": "scopes/function-expression/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 8,
      "sourceId": "scopes/function-expression/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/function-expression/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 8,
      "sourceId": "scopes/function-expression/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/function-expression/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "console": {
        "refs": [
          {
            "end": {
              "column": 9,
              "line": 6,
              "sourceId": "scopes/function-expression/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 13,
                "line": 6,
                "sourceId": "scopes/function-expression/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 2,
                "line": 6,
                "sourceId": "scopes/function-expression/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 2,
              "line": 6,
              "sourceId": "scopes/function-expression/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 8,
      "sourceId": "scopes/function-expression/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/function-expression/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for function expressions: getScopes finds scope bindings for function expressions at line 3 column 23 1`] = `
[
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "p1": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 24,
                "line": 3,
                "sourceId": "scopes/function-expression/originalSource-1",
              },
              "start": {
                "column": 9,
                "line": 3,
                "sourceId": "scopes/function-expression/originalSource-1",
              },
            },
            "end": {
              "column": 20,
              "line": 3,
              "sourceId": "scopes/function-expression/originalSource-1",
            },
            "start": {
              "column": 18,
              "line": 3,
              "sourceId": "scopes/function-expression/originalSource-1",
            },
            "type": "fn-param",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "fn",
    "end": {
      "column": 24,
      "line": 3,
      "sourceId": "scopes/function-expression/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 18,
      "line": 3,
      "sourceId": "scopes/function-expression/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "fn": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 25,
                "line": 3,
                "sourceId": "scopes/function-expression/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/function-expression/originalSource-1",
              },
            },
            "end": {
              "column": 6,
              "line": 3,
              "sourceId": "scopes/function-expression/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 3,
              "sourceId": "scopes/function-expression/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
      "fn2": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 2,
                "line": 7,
                "sourceId": "scopes/function-expression/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 5,
                "sourceId": "scopes/function-expression/originalSource-1",
              },
            },
            "end": {
              "column": 7,
              "line": 5,
              "sourceId": "scopes/function-expression/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 5,
              "sourceId": "scopes/function-expression/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 8,
      "sourceId": "scopes/function-expression/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/function-expression/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 8,
      "sourceId": "scopes/function-expression/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/function-expression/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "console": {
        "refs": [
          {
            "end": {
              "column": 9,
              "line": 6,
              "sourceId": "scopes/function-expression/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 13,
                "line": 6,
                "sourceId": "scopes/function-expression/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 2,
                "line": 6,
                "sourceId": "scopes/function-expression/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 2,
              "line": 6,
              "sourceId": "scopes/function-expression/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 8,
      "sourceId": "scopes/function-expression/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/function-expression/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for function expressions: getScopes finds scope bindings for function expressions at line 6 column 0 1`] = `
[
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "p2": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 7,
                "sourceId": "scopes/function-expression/originalSource-1",
              },
              "start": {
                "column": 10,
                "line": 5,
                "sourceId": "scopes/function-expression/originalSource-1",
              },
            },
            "end": {
              "column": 30,
              "line": 5,
              "sourceId": "scopes/function-expression/originalSource-1",
            },
            "start": {
              "column": 28,
              "line": 5,
              "sourceId": "scopes/function-expression/originalSource-1",
            },
            "type": "fn-param",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [
          {
            "end": {
              "column": 18,
              "line": 6,
              "sourceId": "scopes/function-expression/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 14,
              "line": 6,
              "sourceId": "scopes/function-expression/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "implicit",
      },
    },
    "displayName": "withName",
    "end": {
      "column": 1,
      "line": 7,
      "sourceId": "scopes/function-expression/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 28,
      "line": 5,
      "sourceId": "scopes/function-expression/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "withName": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 7,
                "sourceId": "scopes/function-expression/originalSource-1",
              },
              "start": {
                "column": 10,
                "line": 5,
                "sourceId": "scopes/function-expression/originalSource-1",
              },
            },
            "end": {
              "column": 27,
              "line": 5,
              "sourceId": "scopes/function-expression/originalSource-1",
            },
            "start": {
              "column": 19,
              "line": 5,
              "sourceId": "scopes/function-expression/originalSource-1",
            },
            "type": "fn-expr",
          },
        ],
        "type": "const",
      },
    },
    "displayName": "Function Expression",
    "end": {
      "column": 1,
      "line": 7,
      "sourceId": "scopes/function-expression/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 10,
      "line": 5,
      "sourceId": "scopes/function-expression/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "fn": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 25,
                "line": 3,
                "sourceId": "scopes/function-expression/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/function-expression/originalSource-1",
              },
            },
            "end": {
              "column": 6,
              "line": 3,
              "sourceId": "scopes/function-expression/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 3,
              "sourceId": "scopes/function-expression/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
      "fn2": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 2,
                "line": 7,
                "sourceId": "scopes/function-expression/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 5,
                "sourceId": "scopes/function-expression/originalSource-1",
              },
            },
            "end": {
              "column": 7,
              "line": 5,
              "sourceId": "scopes/function-expression/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 5,
              "sourceId": "scopes/function-expression/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 8,
      "sourceId": "scopes/function-expression/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/function-expression/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 8,
      "sourceId": "scopes/function-expression/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/function-expression/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "console": {
        "refs": [
          {
            "end": {
              "column": 9,
              "line": 6,
              "sourceId": "scopes/function-expression/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 13,
                "line": 6,
                "sourceId": "scopes/function-expression/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 2,
                "line": 6,
                "sourceId": "scopes/function-expression/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 2,
              "line": 6,
              "sourceId": "scopes/function-expression/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 8,
      "sourceId": "scopes/function-expression/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/function-expression/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for out of order declarations: getScopes finds scope bindings for out of order declarations at line 2 column 0 1`] = `
[
  {
    "bindings": {
      "aDefault": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 33,
                "line": 21,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 21,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 15,
              "line": 21,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "importName": "default",
            "start": {
              "column": 7,
              "line": 21,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "import-decl",
          },
        ],
        "type": "import",
      },
      "root": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 19,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 15,
                "line": 3,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 28,
              "line": 3,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "start": {
              "column": 24,
              "line": 3,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "fn-decl",
          },
          {
            "end": {
              "column": 39,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 35,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
      "val": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 8,
                "line": 1,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 1,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 7,
              "line": 1,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 1,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 22,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 22,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "console": {
        "refs": [
          {
            "end": {
              "column": 11,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 15,
                "line": 11,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 4,
                "line": 11,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 4,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 22,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for out of order declarations: getScopes finds scope bindings for out of order declarations at line 5 column 0 1`] = `
[
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "callback": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 3,
                "line": 16,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 10,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 19,
              "line": 10,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "start": {
              "column": 11,
              "line": 10,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "fn-decl",
          },
          {
            "end": {
              "column": 33,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 25,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 10,
              "line": 18,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 12,
                "line": 18,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "parent": null,
              "start": {
                "column": 2,
                "line": 18,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "type": "call",
            },
            "start": {
              "column": 2,
              "line": 18,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "var",
      },
      "fn": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 9,
                "line": 6,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 6,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 8,
              "line": 6,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 6,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [
          {
            "end": {
              "column": 6,
              "line": 8,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 2,
              "line": 8,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "implicit",
      },
      "val": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 10,
                "line": 4,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 4,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 9,
              "line": 4,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 4,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
    },
    "displayName": "root",
    "end": {
      "column": 1,
      "line": 19,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 15,
      "line": 3,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "aDefault": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 33,
                "line": 21,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 21,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 15,
              "line": 21,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "importName": "default",
            "start": {
              "column": 7,
              "line": 21,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "import-decl",
          },
        ],
        "type": "import",
      },
      "root": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 19,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 15,
                "line": 3,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 28,
              "line": 3,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "start": {
              "column": 24,
              "line": 3,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "fn-decl",
          },
          {
            "end": {
              "column": 39,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 35,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
      "val": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 8,
                "line": 1,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 1,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 7,
              "line": 1,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 1,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 22,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 22,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "console": {
        "refs": [
          {
            "end": {
              "column": 11,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 15,
                "line": 11,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 4,
                "line": 11,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 4,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 22,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for out of order declarations: getScopes finds scope bindings for out of order declarations at line 11 column 0 1`] = `
[
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "fn": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 19,
                "line": 15,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 15,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 15,
              "line": 15,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "start": {
              "column": 13,
              "line": 15,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "fn-decl",
          },
          {
            "end": {
              "column": 23,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 21,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [
          {
            "end": {
              "column": 45,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 41,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "implicit",
      },
      "val": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 13,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 13,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 13,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 13,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "var",
          },
          {
            "end": {
              "column": 19,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 16,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "var",
      },
    },
    "displayName": "callback",
    "end": {
      "column": 3,
      "line": 16,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 2,
      "line": 10,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "callback": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 3,
                "line": 16,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 10,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 19,
              "line": 10,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "start": {
              "column": 11,
              "line": 10,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "fn-decl",
          },
          {
            "end": {
              "column": 33,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 25,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 10,
              "line": 18,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 12,
                "line": 18,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "parent": null,
              "start": {
                "column": 2,
                "line": 18,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "type": "call",
            },
            "start": {
              "column": 2,
              "line": 18,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "var",
      },
      "fn": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 9,
                "line": 6,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 6,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 8,
              "line": 6,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 6,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [
          {
            "end": {
              "column": 6,
              "line": 8,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 2,
              "line": 8,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "implicit",
      },
      "val": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 10,
                "line": 4,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 4,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 9,
              "line": 4,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 4,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
    },
    "displayName": "root",
    "end": {
      "column": 1,
      "line": 19,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 15,
      "line": 3,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "aDefault": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 33,
                "line": 21,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 21,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 15,
              "line": 21,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "importName": "default",
            "start": {
              "column": 7,
              "line": 21,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "import-decl",
          },
        ],
        "type": "import",
      },
      "root": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 19,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 15,
                "line": 3,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 28,
              "line": 3,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "start": {
              "column": 24,
              "line": 3,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "fn-decl",
          },
          {
            "end": {
              "column": 39,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 35,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
      "val": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 8,
                "line": 1,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 1,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 7,
              "line": 1,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 1,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 22,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 22,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "console": {
        "refs": [
          {
            "end": {
              "column": 11,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 15,
                "line": 11,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 4,
                "line": 11,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 4,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 22,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for out of order declarations: getScopes finds scope bindings for out of order declarations at line 14 column 0 1`] = `
[
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "fn": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 19,
                "line": 15,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 15,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 15,
              "line": 15,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "start": {
              "column": 13,
              "line": 15,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "fn-decl",
          },
          {
            "end": {
              "column": 23,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 21,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [
          {
            "end": {
              "column": 45,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 41,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "implicit",
      },
      "val": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 13,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 13,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 13,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 13,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "var",
          },
          {
            "end": {
              "column": 19,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 16,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "var",
      },
    },
    "displayName": "callback",
    "end": {
      "column": 3,
      "line": 16,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 2,
      "line": 10,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "callback": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 3,
                "line": 16,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 10,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 19,
              "line": 10,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "start": {
              "column": 11,
              "line": 10,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "fn-decl",
          },
          {
            "end": {
              "column": 33,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 25,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 10,
              "line": 18,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 12,
                "line": 18,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "parent": null,
              "start": {
                "column": 2,
                "line": 18,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "type": "call",
            },
            "start": {
              "column": 2,
              "line": 18,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "var",
      },
      "fn": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 9,
                "line": 6,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 6,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 8,
              "line": 6,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 6,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [
          {
            "end": {
              "column": 6,
              "line": 8,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 2,
              "line": 8,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "implicit",
      },
      "val": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 10,
                "line": 4,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 4,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 9,
              "line": 4,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 4,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
    },
    "displayName": "root",
    "end": {
      "column": 1,
      "line": 19,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 15,
      "line": 3,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "aDefault": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 33,
                "line": 21,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 21,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 15,
              "line": 21,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "importName": "default",
            "start": {
              "column": 7,
              "line": 21,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "import-decl",
          },
        ],
        "type": "import",
      },
      "root": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 19,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 15,
                "line": 3,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 28,
              "line": 3,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "start": {
              "column": 24,
              "line": 3,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "fn-decl",
          },
          {
            "end": {
              "column": 39,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 35,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
      "val": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 8,
                "line": 1,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 1,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 7,
              "line": 1,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 1,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 22,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 22,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "console": {
        "refs": [
          {
            "end": {
              "column": 11,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 15,
                "line": 11,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 4,
                "line": 11,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 4,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 22,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for out of order declarations: getScopes finds scope bindings for out of order declarations at line 17 column 0 1`] = `
[
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "callback": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 3,
                "line": 16,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 10,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 19,
              "line": 10,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "start": {
              "column": 11,
              "line": 10,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "fn-decl",
          },
          {
            "end": {
              "column": 33,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 25,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 10,
              "line": 18,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 12,
                "line": 18,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "parent": null,
              "start": {
                "column": 2,
                "line": 18,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "type": "call",
            },
            "start": {
              "column": 2,
              "line": 18,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "var",
      },
      "fn": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 9,
                "line": 6,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 6,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 8,
              "line": 6,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 6,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [
          {
            "end": {
              "column": 6,
              "line": 8,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 2,
              "line": 8,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "implicit",
      },
      "val": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 10,
                "line": 4,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 4,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 9,
              "line": 4,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 4,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
    },
    "displayName": "root",
    "end": {
      "column": 1,
      "line": 19,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 15,
      "line": 3,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "aDefault": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 33,
                "line": 21,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 21,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 15,
              "line": 21,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "importName": "default",
            "start": {
              "column": 7,
              "line": 21,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "import-decl",
          },
        ],
        "type": "import",
      },
      "root": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 19,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 15,
                "line": 3,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 28,
              "line": 3,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "start": {
              "column": 24,
              "line": 3,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "fn-decl",
          },
          {
            "end": {
              "column": 39,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 35,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
      "val": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 8,
                "line": 1,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 1,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
            },
            "end": {
              "column": 7,
              "line": 1,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 1,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 22,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 22,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "console": {
        "refs": [
          {
            "end": {
              "column": 11,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 15,
                "line": 11,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 4,
                "line": 11,
                "sourceId": "scopes/out-of-order-declarations/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 4,
              "line": 11,
              "sourceId": "scopes/out-of-order-declarations/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 22,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/out-of-order-declarations/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for switch statements: getScopes finds scope bindings for switch statements at line 2 column 0 1`] = `
[
  {
    "bindings": {
      "this": {
        "refs": [],
        "type": "implicit",
      },
      "zero": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 13,
                "line": 5,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 5,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 5,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 5,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 23,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 23,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "foo": {
        "refs": [
          {
            "end": {
              "column": 11,
              "line": 3,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 8,
              "line": 3,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 11,
              "line": 15,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 8,
              "line": 15,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 11,
              "line": 19,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 8,
              "line": 19,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 23,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for switch statements: getScopes finds scope bindings for switch statements at line 5 column 0 1`] = `
[
  {
    "bindings": {
      "one": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 7,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 7,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 7,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 7,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
      "two": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 9,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 9,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 9,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 9,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
    },
    "displayName": "Switch",
    "end": {
      "column": 1,
      "line": 13,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 3,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "this": {
        "refs": [],
        "type": "implicit",
      },
      "zero": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 13,
                "line": 5,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 5,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 5,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 5,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 23,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 23,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "foo": {
        "refs": [
          {
            "end": {
              "column": 11,
              "line": 3,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 8,
              "line": 3,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 11,
              "line": 15,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 8,
              "line": 15,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 11,
              "line": 19,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 8,
              "line": 19,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 23,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for switch statements: getScopes finds scope bindings for switch statements at line 7 column 0 1`] = `
[
  {
    "bindings": {
      "one": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 7,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 7,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 7,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 7,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
      "two": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 9,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 9,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 9,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 9,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
    },
    "displayName": "Switch",
    "end": {
      "column": 1,
      "line": 13,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 3,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "this": {
        "refs": [],
        "type": "implicit",
      },
      "zero": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 13,
                "line": 5,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 5,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 5,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 5,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 23,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 23,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "foo": {
        "refs": [
          {
            "end": {
              "column": 11,
              "line": 3,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 8,
              "line": 3,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 11,
              "line": 15,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 8,
              "line": 15,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 11,
              "line": 19,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 8,
              "line": 19,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 23,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for switch statements: getScopes finds scope bindings for switch statements at line 9 column 0 1`] = `
[
  {
    "bindings": {
      "one": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 7,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 7,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 7,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 7,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
      "two": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 9,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 9,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 9,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 9,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
    },
    "displayName": "Switch",
    "end": {
      "column": 1,
      "line": 13,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 3,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "this": {
        "refs": [],
        "type": "implicit",
      },
      "zero": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 13,
                "line": 5,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 5,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 5,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 5,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 23,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 23,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "foo": {
        "refs": [
          {
            "end": {
              "column": 11,
              "line": 3,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 8,
              "line": 3,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 11,
              "line": 15,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 8,
              "line": 15,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 11,
              "line": 19,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 8,
              "line": 19,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 23,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for switch statements: getScopes finds scope bindings for switch statements at line 11 column 0 1`] = `
[
  {
    "bindings": {
      "three": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 14,
                "line": 11,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 11,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 11,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 11,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
    },
    "displayName": "Block",
    "end": {
      "column": 3,
      "line": 12,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 16,
      "line": 10,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "one": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 7,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 7,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 7,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 7,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
      "two": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 9,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 9,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 9,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 9,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
    },
    "displayName": "Switch",
    "end": {
      "column": 1,
      "line": 13,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 3,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "this": {
        "refs": [],
        "type": "implicit",
      },
      "zero": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 13,
                "line": 5,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 5,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 5,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 5,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 23,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 23,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "foo": {
        "refs": [
          {
            "end": {
              "column": 11,
              "line": 3,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 8,
              "line": 3,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 11,
              "line": 15,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 8,
              "line": 15,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 11,
              "line": 19,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 8,
              "line": 19,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 23,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for switch statements: getScopes finds scope bindings for switch statements at line 17 column 0 1`] = `
[
  {
    "bindings": {
      "two": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 20,
                "line": 17,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 17,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
            },
            "end": {
              "column": 16,
              "line": 17,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "start": {
              "column": 13,
              "line": 17,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "let",
      },
    },
    "displayName": "Switch",
    "end": {
      "column": 1,
      "line": 18,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 15,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "this": {
        "refs": [],
        "type": "implicit",
      },
      "zero": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 13,
                "line": 5,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 5,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 5,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 5,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 23,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 23,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "foo": {
        "refs": [
          {
            "end": {
              "column": 11,
              "line": 3,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 8,
              "line": 3,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 11,
              "line": 15,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 8,
              "line": 15,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 11,
              "line": 19,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 8,
              "line": 19,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 23,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for switch statements: getScopes finds scope bindings for switch statements at line 21 column 0 1`] = `
[
  {
    "bindings": {
      "three": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 18,
                "line": 21,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 21,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
            },
            "end": {
              "column": 15,
              "line": 21,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "start": {
              "column": 10,
              "line": 21,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "class-decl",
          },
        ],
        "type": "let",
      },
    },
    "displayName": "Switch",
    "end": {
      "column": 1,
      "line": 22,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 19,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "this": {
        "refs": [],
        "type": "implicit",
      },
      "zero": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 13,
                "line": 5,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 5,
                "sourceId": "scopes/switch-statement/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 5,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 5,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 23,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 23,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "foo": {
        "refs": [
          {
            "end": {
              "column": 11,
              "line": 3,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 8,
              "line": 3,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 11,
              "line": 15,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 8,
              "line": 15,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 11,
              "line": 19,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 8,
              "line": 19,
              "sourceId": "scopes/switch-statement/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 23,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/switch-statement/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for try..catch: getScopes finds scope bindings for try..catch at line 2 column 0 1`] = `
[
  {
    "bindings": {
      "first": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 4,
                "sourceId": "scopes/try-catch/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 4,
                "sourceId": "scopes/try-catch/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 4,
              "sourceId": "scopes/try-catch/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 4,
              "sourceId": "scopes/try-catch/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "third": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 7,
                "sourceId": "scopes/try-catch/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 7,
                "sourceId": "scopes/try-catch/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 7,
              "sourceId": "scopes/try-catch/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 7,
              "sourceId": "scopes/try-catch/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 10,
      "sourceId": "scopes/try-catch/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/try-catch/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 10,
      "sourceId": "scopes/try-catch/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/try-catch/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 10,
      "sourceId": "scopes/try-catch/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/try-catch/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for try..catch: getScopes finds scope bindings for try..catch at line 4 column 0 1`] = `
[
  {
    "bindings": {
      "second": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 13,
                "line": 5,
                "sourceId": "scopes/try-catch/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 5,
                "sourceId": "scopes/try-catch/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 5,
              "sourceId": "scopes/try-catch/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 5,
              "sourceId": "scopes/try-catch/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
    },
    "displayName": "Block",
    "end": {
      "column": 1,
      "line": 6,
      "sourceId": "scopes/try-catch/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 4,
      "line": 3,
      "sourceId": "scopes/try-catch/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "first": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 4,
                "sourceId": "scopes/try-catch/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 4,
                "sourceId": "scopes/try-catch/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 4,
              "sourceId": "scopes/try-catch/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 4,
              "sourceId": "scopes/try-catch/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "third": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 7,
                "sourceId": "scopes/try-catch/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 7,
                "sourceId": "scopes/try-catch/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 7,
              "sourceId": "scopes/try-catch/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 7,
              "sourceId": "scopes/try-catch/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 10,
      "sourceId": "scopes/try-catch/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/try-catch/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 10,
      "sourceId": "scopes/try-catch/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/try-catch/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 10,
      "sourceId": "scopes/try-catch/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/try-catch/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings for try..catch: getScopes finds scope bindings for try..catch at line 7 column 0 1`] = `
[
  {
    "bindings": {
      "fourth": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 13,
                "line": 8,
                "sourceId": "scopes/try-catch/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 8,
                "sourceId": "scopes/try-catch/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 8,
              "sourceId": "scopes/try-catch/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 8,
              "sourceId": "scopes/try-catch/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
    },
    "displayName": "Block",
    "end": {
      "column": 1,
      "line": 9,
      "sourceId": "scopes/try-catch/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 14,
      "line": 6,
      "sourceId": "scopes/try-catch/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "err": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 9,
                "sourceId": "scopes/try-catch/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 6,
                "sourceId": "scopes/try-catch/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 6,
              "sourceId": "scopes/try-catch/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 6,
              "sourceId": "scopes/try-catch/originalSource-1",
            },
            "type": "catch",
          },
        ],
        "type": "var",
      },
    },
    "displayName": "Catch",
    "end": {
      "column": 1,
      "line": 9,
      "sourceId": "scopes/try-catch/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 2,
      "line": 6,
      "sourceId": "scopes/try-catch/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "first": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 4,
                "sourceId": "scopes/try-catch/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 4,
                "sourceId": "scopes/try-catch/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 4,
              "sourceId": "scopes/try-catch/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 4,
              "sourceId": "scopes/try-catch/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "third": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 7,
                "sourceId": "scopes/try-catch/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 7,
                "sourceId": "scopes/try-catch/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 7,
              "sourceId": "scopes/try-catch/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 7,
              "sourceId": "scopes/try-catch/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 10,
      "sourceId": "scopes/try-catch/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/try-catch/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 10,
      "sourceId": "scopes/try-catch/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/try-catch/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 10,
      "sourceId": "scopes/try-catch/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/try-catch/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings in a JSX element: getScopes finds scope bindings in a JSX element at line 2 column 0 1`] = `
[
  {
    "bindings": {
      "SomeComponent": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 29,
                "line": 1,
                "sourceId": "scopes/jsx-component/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 1,
                "sourceId": "scopes/jsx-component/originalSource-1",
              },
            },
            "end": {
              "column": 20,
              "line": 1,
              "sourceId": "scopes/jsx-component/originalSource-1",
            },
            "importName": "default",
            "start": {
              "column": 7,
              "line": 1,
              "sourceId": "scopes/jsx-component/originalSource-1",
            },
            "type": "import-decl",
          },
          {
            "end": {
              "column": 14,
              "line": 3,
              "sourceId": "scopes/jsx-component/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 1,
              "line": 3,
              "sourceId": "scopes/jsx-component/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 14,
              "line": 4,
              "sourceId": "scopes/jsx-component/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 1,
              "line": 4,
              "sourceId": "scopes/jsx-component/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 14,
              "line": 5,
              "sourceId": "scopes/jsx-component/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 1,
              "line": 5,
              "sourceId": "scopes/jsx-component/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 14,
              "line": 6,
              "sourceId": "scopes/jsx-component/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 1,
              "line": 6,
              "sourceId": "scopes/jsx-component/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "import",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 7,
      "sourceId": "scopes/jsx-component/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/jsx-component/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 7,
      "sourceId": "scopes/jsx-component/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/jsx-component/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 7,
      "sourceId": "scopes/jsx-component/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/jsx-component/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings in a module: getScopes finds scope bindings in a module at line 7 column 0 1`] = `
[
  {
    "bindings": {
      "fn": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 16,
                "line": 9,
                "sourceId": "scopes/simple-module/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 9,
                "sourceId": "scopes/simple-module/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 9,
              "sourceId": "scopes/simple-module/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 9,
              "sourceId": "scopes/simple-module/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "foo": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 22,
                "line": 1,
                "sourceId": "scopes/simple-module/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 1,
                "sourceId": "scopes/simple-module/originalSource-1",
              },
            },
            "end": {
              "column": 10,
              "line": 1,
              "sourceId": "scopes/simple-module/originalSource-1",
            },
            "importName": "default",
            "start": {
              "column": 7,
              "line": 1,
              "sourceId": "scopes/simple-module/originalSource-1",
            },
            "type": "import-decl",
          },
          {
            "end": {
              "column": 15,
              "line": 3,
              "sourceId": "scopes/simple-module/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 12,
              "line": 3,
              "sourceId": "scopes/simple-module/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "import",
      },
      "one": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 5,
                "sourceId": "scopes/simple-module/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 5,
                "sourceId": "scopes/simple-module/originalSource-1",
              },
            },
            "end": {
              "column": 7,
              "line": 5,
              "sourceId": "scopes/simple-module/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 5,
              "sourceId": "scopes/simple-module/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [
          {
            "end": {
              "column": 4,
              "line": 11,
              "sourceId": "scopes/simple-module/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 0,
              "line": 11,
              "sourceId": "scopes/simple-module/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "implicit",
      },
      "three": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 16,
                "line": 7,
                "sourceId": "scopes/simple-module/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 7,
                "sourceId": "scopes/simple-module/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 7,
              "sourceId": "scopes/simple-module/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 7,
              "sourceId": "scopes/simple-module/originalSource-1",
            },
            "type": "const",
          },
        ],
        "type": "const",
      },
      "two": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 12,
                "line": 6,
                "sourceId": "scopes/simple-module/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 6,
                "sourceId": "scopes/simple-module/originalSource-1",
              },
            },
            "end": {
              "column": 7,
              "line": 6,
              "sourceId": "scopes/simple-module/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 6,
              "sourceId": "scopes/simple-module/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/simple-module/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/simple-module/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/simple-module/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/simple-module/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "console": {
        "refs": [
          {
            "end": {
              "column": 7,
              "line": 3,
              "sourceId": "scopes/simple-module/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 11,
                "line": 3,
                "sourceId": "scopes/simple-module/originalSource-1",
              },
              "parent": null,
              "property": "log",
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/simple-module/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 0,
              "line": 3,
              "sourceId": "scopes/simple-module/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 12,
      "sourceId": "scopes/simple-module/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/simple-module/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings in a typescript file: getScopes finds scope bindings in a typescript file at line 9 column 0 1`] = `
[
  {
    "bindings": {
      "Color": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 8,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
            },
            "end": {
              "column": 10,
              "line": 3,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "start": {
              "column": 5,
              "line": 3,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "ts-enum-decl",
          },
        ],
        "type": "const",
      },
      "Example": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 19,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 10,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 10,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 10,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "class-decl",
          },
          {
            "end": {
              "column": 16,
              "line": 41,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 9,
              "line": 41,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "let",
      },
      "TheSpace": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 35,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 31,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
            },
            "end": {
              "column": 18,
              "line": 31,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "start": {
              "column": 10,
              "line": 31,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "ts-namespace-decl",
          },
        ],
        "type": "const",
      },
      "foo": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 22,
                "line": 22,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 22,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
            },
            "end": {
              "column": 7,
              "line": 22,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 22,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 42,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 42,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "Error": {
        "refs": [
          {
            "end": {
              "column": 19,
              "line": 17,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 14,
              "line": 17,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
      "window": {
        "refs": [
          {
            "end": {
              "column": 21,
              "line": 22,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 15,
              "line": 22,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 7,
              "line": 25,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 1,
              "line": 25,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 7,
              "line": 28,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 1,
              "line": 28,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 42,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings in a typescript file: getScopes finds scope bindings in a typescript file at line 13 column 4 1`] = `
[
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "foo": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 3,
                "line": 14,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 12,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
            },
            "end": {
              "column": 24,
              "line": 12,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "start": {
              "column": 21,
              "line": 12,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "fn-param",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "constructor",
    "end": {
      "column": 3,
      "line": 14,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 14,
      "line": 12,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "Example": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 19,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 10,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 10,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 10,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "class-inner",
          },
        ],
        "type": "const",
      },
    },
    "displayName": "Class",
    "end": {
      "column": 1,
      "line": 19,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 10,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "Color": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 8,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
            },
            "end": {
              "column": 10,
              "line": 3,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "start": {
              "column": 5,
              "line": 3,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "ts-enum-decl",
          },
        ],
        "type": "const",
      },
      "Example": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 19,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 10,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 10,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 10,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "class-decl",
          },
          {
            "end": {
              "column": 16,
              "line": 41,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 9,
              "line": 41,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "let",
      },
      "TheSpace": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 35,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 31,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
            },
            "end": {
              "column": 18,
              "line": 31,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "start": {
              "column": 10,
              "line": 31,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "ts-namespace-decl",
          },
        ],
        "type": "const",
      },
      "foo": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 22,
                "line": 22,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 22,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
            },
            "end": {
              "column": 7,
              "line": 22,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 22,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 42,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 42,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "Error": {
        "refs": [
          {
            "end": {
              "column": 19,
              "line": 17,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 14,
              "line": 17,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
      "window": {
        "refs": [
          {
            "end": {
              "column": 21,
              "line": 22,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 15,
              "line": 22,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 7,
              "line": 25,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 1,
              "line": 25,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 7,
              "line": 28,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 1,
              "line": 28,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 42,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings in a typescript file: getScopes finds scope bindings in a typescript file at line 17 column 0 1`] = `
[
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "method",
    "end": {
      "column": 3,
      "line": 18,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 2,
      "line": 16,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "Example": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 19,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 10,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 10,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 10,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "class-inner",
          },
        ],
        "type": "const",
      },
    },
    "displayName": "Class",
    "end": {
      "column": 1,
      "line": 19,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 10,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "Color": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 8,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
            },
            "end": {
              "column": 10,
              "line": 3,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "start": {
              "column": 5,
              "line": 3,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "ts-enum-decl",
          },
        ],
        "type": "const",
      },
      "Example": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 19,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 10,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 10,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 10,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "class-decl",
          },
          {
            "end": {
              "column": 16,
              "line": 41,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 9,
              "line": 41,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "let",
      },
      "TheSpace": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 35,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 31,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
            },
            "end": {
              "column": 18,
              "line": 31,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "start": {
              "column": 10,
              "line": 31,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "ts-namespace-decl",
          },
        ],
        "type": "const",
      },
      "foo": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 22,
                "line": 22,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 22,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
            },
            "end": {
              "column": 7,
              "line": 22,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 22,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 42,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 42,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "Error": {
        "refs": [
          {
            "end": {
              "column": 19,
              "line": 17,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 14,
              "line": 17,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
      "window": {
        "refs": [
          {
            "end": {
              "column": 21,
              "line": 22,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 15,
              "line": 22,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 7,
              "line": 25,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 1,
              "line": 25,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 7,
              "line": 28,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 1,
              "line": 28,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 42,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings in a typescript file: getScopes finds scope bindings in a typescript file at line 33 column 0 1`] = `
[
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "fn",
    "end": {
      "column": 3,
      "line": 34,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 2,
      "line": 32,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "fn": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 3,
                "line": 34,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 32,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 32,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "start": {
              "column": 11,
              "line": 32,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "let",
      },
    },
    "displayName": "TypeScript Namespace",
    "end": {
      "column": 1,
      "line": 35,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 19,
      "line": 31,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "Color": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 8,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
            },
            "end": {
              "column": 10,
              "line": 3,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "start": {
              "column": 5,
              "line": 3,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "ts-enum-decl",
          },
        ],
        "type": "const",
      },
      "Example": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 19,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 10,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 10,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 10,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "class-decl",
          },
          {
            "end": {
              "column": 16,
              "line": 41,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 9,
              "line": 41,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "let",
      },
      "TheSpace": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 35,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 31,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
            },
            "end": {
              "column": 18,
              "line": 31,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "start": {
              "column": 10,
              "line": 31,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "ts-namespace-decl",
          },
        ],
        "type": "const",
      },
      "foo": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 22,
                "line": 22,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 22,
                "sourceId": "scopes/ts-sample/originalSource-1",
              },
            },
            "end": {
              "column": 7,
              "line": 22,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 22,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 42,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 42,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "Error": {
        "refs": [
          {
            "end": {
              "column": 19,
              "line": 17,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 14,
              "line": 17,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
      "window": {
        "refs": [
          {
            "end": {
              "column": 21,
              "line": 22,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 15,
              "line": 22,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 7,
              "line": 25,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 1,
              "line": 25,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 7,
              "line": 28,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 1,
              "line": 28,
              "sourceId": "scopes/ts-sample/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 42,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/ts-sample/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings in a typescript-jsx file: getScopes finds scope bindings in a typescript-jsx file at line 9 column 0 1`] = `
[
  {
    "bindings": {
      "Color": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 8,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
            },
            "end": {
              "column": 10,
              "line": 3,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "start": {
              "column": 5,
              "line": 3,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "ts-enum-decl",
          },
        ],
        "type": "const",
      },
      "Example": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 19,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 10,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 10,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 10,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "class-decl",
          },
          {
            "end": {
              "column": 16,
              "line": 41,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 9,
              "line": 41,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "let",
      },
      "TheSpace": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 35,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 31,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
            },
            "end": {
              "column": 18,
              "line": 31,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "start": {
              "column": 10,
              "line": 31,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "ts-namespace-decl",
          },
        ],
        "type": "const",
      },
      "foo": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 28,
                "line": 22,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 22,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
            },
            "end": {
              "column": 7,
              "line": 22,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 22,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 42,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 42,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "Error": {
        "refs": [
          {
            "end": {
              "column": 19,
              "line": 17,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 14,
              "line": 17,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
      "any": {
        "refs": [
          {
            "end": {
              "column": 14,
              "line": 22,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 11,
              "line": 22,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
      "window": {
        "refs": [
          {
            "end": {
              "column": 7,
              "line": 25,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 1,
              "line": 25,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 7,
              "line": 28,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 1,
              "line": 28,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 42,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings in a typescript-jsx file: getScopes finds scope bindings in a typescript-jsx file at line 13 column 4 1`] = `
[
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "foo": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 3,
                "line": 14,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 12,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
            },
            "end": {
              "column": 24,
              "line": 12,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "start": {
              "column": 21,
              "line": 12,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "fn-param",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "constructor",
    "end": {
      "column": 3,
      "line": 14,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 14,
      "line": 12,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "Example": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 19,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 10,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 10,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 10,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "class-inner",
          },
        ],
        "type": "const",
      },
    },
    "displayName": "Class",
    "end": {
      "column": 1,
      "line": 19,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 10,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "Color": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 8,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
            },
            "end": {
              "column": 10,
              "line": 3,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "start": {
              "column": 5,
              "line": 3,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "ts-enum-decl",
          },
        ],
        "type": "const",
      },
      "Example": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 19,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 10,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 10,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 10,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "class-decl",
          },
          {
            "end": {
              "column": 16,
              "line": 41,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 9,
              "line": 41,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "let",
      },
      "TheSpace": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 35,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 31,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
            },
            "end": {
              "column": 18,
              "line": 31,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "start": {
              "column": 10,
              "line": 31,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "ts-namespace-decl",
          },
        ],
        "type": "const",
      },
      "foo": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 28,
                "line": 22,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 22,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
            },
            "end": {
              "column": 7,
              "line": 22,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 22,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 42,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 42,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "Error": {
        "refs": [
          {
            "end": {
              "column": 19,
              "line": 17,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 14,
              "line": 17,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
      "any": {
        "refs": [
          {
            "end": {
              "column": 14,
              "line": 22,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 11,
              "line": 22,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
      "window": {
        "refs": [
          {
            "end": {
              "column": 7,
              "line": 25,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 1,
              "line": 25,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 7,
              "line": 28,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 1,
              "line": 28,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 42,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings in a typescript-jsx file: getScopes finds scope bindings in a typescript-jsx file at line 17 column 0 1`] = `
[
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "method",
    "end": {
      "column": 3,
      "line": 18,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 2,
      "line": 16,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "Example": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 19,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 10,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 10,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 10,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "class-inner",
          },
        ],
        "type": "const",
      },
    },
    "displayName": "Class",
    "end": {
      "column": 1,
      "line": 19,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 10,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "Color": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 8,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
            },
            "end": {
              "column": 10,
              "line": 3,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "start": {
              "column": 5,
              "line": 3,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "ts-enum-decl",
          },
        ],
        "type": "const",
      },
      "Example": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 19,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 10,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 10,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 10,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "class-decl",
          },
          {
            "end": {
              "column": 16,
              "line": 41,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 9,
              "line": 41,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "let",
      },
      "TheSpace": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 35,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 31,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
            },
            "end": {
              "column": 18,
              "line": 31,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "start": {
              "column": 10,
              "line": 31,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "ts-namespace-decl",
          },
        ],
        "type": "const",
      },
      "foo": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 28,
                "line": 22,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 22,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
            },
            "end": {
              "column": 7,
              "line": 22,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 22,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 42,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 42,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "Error": {
        "refs": [
          {
            "end": {
              "column": 19,
              "line": 17,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 14,
              "line": 17,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
      "any": {
        "refs": [
          {
            "end": {
              "column": 14,
              "line": 22,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 11,
              "line": 22,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
      "window": {
        "refs": [
          {
            "end": {
              "column": 7,
              "line": 25,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 1,
              "line": 25,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 7,
              "line": 28,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 1,
              "line": 28,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 42,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings in a typescript-jsx file: getScopes finds scope bindings in a typescript-jsx file at line 33 column 0 1`] = `
[
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "fn",
    "end": {
      "column": 3,
      "line": 34,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 2,
      "line": 32,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "fn": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 3,
                "line": 34,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 32,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 32,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "start": {
              "column": 11,
              "line": 32,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "let",
      },
    },
    "displayName": "TypeScript Namespace",
    "end": {
      "column": 1,
      "line": 35,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 19,
      "line": 31,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "Color": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 8,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
            },
            "end": {
              "column": 10,
              "line": 3,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "start": {
              "column": 5,
              "line": 3,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "ts-enum-decl",
          },
        ],
        "type": "const",
      },
      "Example": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 19,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 10,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 10,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 10,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "class-decl",
          },
          {
            "end": {
              "column": 16,
              "line": 41,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 9,
              "line": 41,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "let",
      },
      "TheSpace": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 35,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 31,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
            },
            "end": {
              "column": 18,
              "line": 31,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "start": {
              "column": 10,
              "line": 31,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "ts-namespace-decl",
          },
        ],
        "type": "const",
      },
      "foo": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 28,
                "line": 22,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 22,
                "sourceId": "scopes/tsx-sample/originalSource-1",
              },
            },
            "end": {
              "column": 7,
              "line": 22,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 22,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 42,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 42,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "Error": {
        "refs": [
          {
            "end": {
              "column": 19,
              "line": 17,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 14,
              "line": 17,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
      "any": {
        "refs": [
          {
            "end": {
              "column": 14,
              "line": 22,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 11,
              "line": 22,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
      "window": {
        "refs": [
          {
            "end": {
              "column": 7,
              "line": 25,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 1,
              "line": 25,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 7,
              "line": 28,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 1,
              "line": 28,
              "sourceId": "scopes/tsx-sample/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 42,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/tsx-sample/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings in a vue file: getScopes finds scope bindings in a vue file at line 14 column 0 1`] = `
[
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "fnVar": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 18,
                "line": 13,
                "sourceId": "scopes/vue-sample/originalSource-1",
              },
              "start": {
                "column": 4,
                "line": 13,
                "sourceId": "scopes/vue-sample/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 13,
              "sourceId": "scopes/vue-sample/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 13,
              "sourceId": "scopes/vue-sample/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "data",
    "end": {
      "column": 3,
      "line": 18,
      "sourceId": "scopes/vue-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 2,
      "line": 12,
      "sourceId": "scopes/vue-sample/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "moduleVar": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 23,
                "line": 8,
                "sourceId": "scopes/vue-sample/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 8,
                "sourceId": "scopes/vue-sample/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 8,
              "sourceId": "scopes/vue-sample/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 8,
              "sourceId": "scopes/vue-sample/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 1,
      "line": 27,
      "sourceId": "scopes/vue-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/vue-sample/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 1,
      "line": 27,
      "sourceId": "scopes/vue-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/vue-sample/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Global",
    "end": {
      "column": 1,
      "line": 27,
      "sourceId": "scopes/vue-sample/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/vue-sample/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings in fn body with both lex and non-lex items: getScopes finds scope bindings in fn body with both lex and non-lex items at line 4 column 0 1`] = `
[
  {
    "bindings": {
      "lex": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 10,
                "line": 3,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 3,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
            },
            "end": {
              "column": 9,
              "line": 3,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 3,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
    },
    "displayName": "Function Body",
    "end": {
      "column": 1,
      "line": 5,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 14,
      "line": 1,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "nonlex": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 13,
                "line": 2,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 2,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 2,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 2,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "fn",
    "end": {
      "column": 1,
      "line": 5,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 24,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "fn": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 5,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 1,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 1,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 1,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "fn2": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 11,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 7,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 7,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 7,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "fn3": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 17,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 13,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 13,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 13,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "fn4": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 23,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 19,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 19,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 19,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 24,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings in fn body with both lex and non-lex items: getScopes finds scope bindings in fn body with both lex and non-lex items at line 10 column 0 1`] = `
[
  {
    "bindings": {
      "lex": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 10,
                "line": 9,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 9,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
            },
            "end": {
              "column": 9,
              "line": 9,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 9,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
    },
    "displayName": "Function Body",
    "end": {
      "column": 1,
      "line": 11,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 15,
      "line": 7,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "nonlex": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 21,
                "line": 8,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 8,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
            },
            "end": {
              "column": 17,
              "line": 8,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "start": {
              "column": 11,
              "line": 8,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "fn2",
    "end": {
      "column": 1,
      "line": 11,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 7,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 24,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "fn": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 5,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 1,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 1,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 1,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "fn2": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 11,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 7,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 7,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 7,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "fn3": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 17,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 13,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 13,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 13,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "fn4": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 23,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 19,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 19,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 19,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 24,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings in fn body with both lex and non-lex items: getScopes finds scope bindings in fn body with both lex and non-lex items at line 16 column 0 1`] = `
[
  {
    "bindings": {
      "Thing": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 16,
                "line": 15,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 15,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 15,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 15,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "type": "class-decl",
          },
        ],
        "type": "let",
      },
    },
    "displayName": "Function Body",
    "end": {
      "column": 1,
      "line": 17,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 15,
      "line": 13,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "nonlex": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 13,
                "line": 14,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 14,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 14,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 14,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "fn3",
    "end": {
      "column": 1,
      "line": 17,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 13,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 24,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "fn": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 5,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 1,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 1,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 1,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "fn2": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 11,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 7,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 7,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 7,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "fn3": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 17,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 13,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 13,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 13,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "fn4": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 23,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 19,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 19,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 19,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 24,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings in fn body with both lex and non-lex items: getScopes finds scope bindings in fn body with both lex and non-lex items at line 22 column 0 1`] = `
[
  {
    "bindings": {
      "Thing": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 16,
                "line": 21,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 21,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
            },
            "end": {
              "column": 13,
              "line": 21,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "start": {
              "column": 8,
              "line": 21,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "type": "class-decl",
          },
        ],
        "type": "let",
      },
    },
    "displayName": "Function Body",
    "end": {
      "column": 1,
      "line": 23,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 15,
      "line": 19,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "nonlex": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 21,
                "line": 20,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 20,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
            },
            "end": {
              "column": 17,
              "line": 20,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "start": {
              "column": 11,
              "line": 20,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "fn4",
    "end": {
      "column": 1,
      "line": 23,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 19,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 24,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "fn": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 5,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 1,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 1,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 1,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "fn2": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 11,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 7,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 7,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 7,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "fn3": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 17,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 13,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 13,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 13,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "fn4": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 23,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 19,
                "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 19,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 19,
              "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 24,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/fn-body-lex-and-nonlex/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings with expression metadata: getScopes finds scope bindings with expression metadata at line 2 column 0 1`] = `
[
  {
    "bindings": {
      "foo": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 15,
                "line": 1,
                "sourceId": "scopes/expressions/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 1,
                "sourceId": "scopes/expressions/originalSource-1",
              },
            },
            "end": {
              "column": 9,
              "line": 1,
              "sourceId": "scopes/expressions/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 1,
              "sourceId": "scopes/expressions/originalSource-1",
            },
            "type": "const",
          },
          {
            "end": {
              "column": 3,
              "line": 3,
              "sourceId": "scopes/expressions/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 7,
                "line": 3,
                "sourceId": "scopes/expressions/originalSource-1",
              },
              "parent": {
                "end": {
                  "column": 9,
                  "line": 3,
                  "sourceId": "scopes/expressions/originalSource-1",
                },
                "parent": {
                  "end": {
                    "column": 13,
                    "line": 3,
                    "sourceId": "scopes/expressions/originalSource-1",
                  },
                  "parent": null,
                  "property": "baz",
                  "start": {
                    "column": 0,
                    "line": 3,
                    "sourceId": "scopes/expressions/originalSource-1",
                  },
                  "type": "member",
                },
                "start": {
                  "column": 0,
                  "line": 3,
                  "sourceId": "scopes/expressions/originalSource-1",
                },
                "type": "call",
              },
              "property": "bar",
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/expressions/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 0,
              "line": 3,
              "sourceId": "scopes/expressions/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 7,
              "line": 4,
              "sourceId": "scopes/expressions/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 11,
                "line": 4,
                "sourceId": "scopes/expressions/originalSource-1",
              },
              "parent": {
                "end": {
                  "column": 12,
                  "line": 4,
                  "sourceId": "scopes/expressions/originalSource-1",
                },
                "parent": {
                  "end": {
                    "column": 14,
                    "line": 4,
                    "sourceId": "scopes/expressions/originalSource-1",
                  },
                  "parent": {
                    "end": {
                      "column": 18,
                      "line": 4,
                      "sourceId": "scopes/expressions/originalSource-1",
                    },
                    "parent": null,
                    "property": "baz",
                    "start": {
                      "column": 0,
                      "line": 4,
                      "sourceId": "scopes/expressions/originalSource-1",
                    },
                    "type": "member",
                  },
                  "start": {
                    "column": 0,
                    "line": 4,
                    "sourceId": "scopes/expressions/originalSource-1",
                  },
                  "type": "call",
                },
                "start": {
                  "column": 0,
                  "line": 4,
                  "sourceId": "scopes/expressions/originalSource-1",
                },
                "type": "inherit",
              },
              "property": "bar",
              "start": {
                "column": 4,
                "line": 4,
                "sourceId": "scopes/expressions/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 4,
              "line": 4,
              "sourceId": "scopes/expressions/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 10,
              "line": 5,
              "sourceId": "scopes/expressions/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 14,
                "line": 5,
                "sourceId": "scopes/expressions/originalSource-1",
              },
              "parent": {
                "end": {
                  "column": 15,
                  "line": 5,
                  "sourceId": "scopes/expressions/originalSource-1",
                },
                "parent": {
                  "end": {
                    "column": 17,
                    "line": 5,
                    "sourceId": "scopes/expressions/originalSource-1",
                  },
                  "parent": {
                    "end": {
                      "column": 21,
                      "line": 5,
                      "sourceId": "scopes/expressions/originalSource-1",
                    },
                    "parent": null,
                    "property": "baz",
                    "start": {
                      "column": 0,
                      "line": 5,
                      "sourceId": "scopes/expressions/originalSource-1",
                    },
                    "type": "member",
                  },
                  "start": {
                    "column": 0,
                    "line": 5,
                    "sourceId": "scopes/expressions/originalSource-1",
                  },
                  "type": "call",
                },
                "start": {
                  "column": 0,
                  "line": 5,
                  "sourceId": "scopes/expressions/originalSource-1",
                },
                "type": "inherit",
              },
              "property": "bar",
              "start": {
                "column": 7,
                "line": 5,
                "sourceId": "scopes/expressions/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 7,
              "line": 5,
              "sourceId": "scopes/expressions/originalSource-1",
            },
            "type": "ref",
          },
          {
            "end": {
              "column": 25,
              "line": 6,
              "sourceId": "scopes/expressions/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 29,
                "line": 6,
                "sourceId": "scopes/expressions/originalSource-1",
              },
              "parent": {
                "end": {
                  "column": 30,
                  "line": 6,
                  "sourceId": "scopes/expressions/originalSource-1",
                },
                "parent": {
                  "end": {
                    "column": 32,
                    "line": 6,
                    "sourceId": "scopes/expressions/originalSource-1",
                  },
                  "parent": {
                    "end": {
                      "column": 36,
                      "line": 6,
                      "sourceId": "scopes/expressions/originalSource-1",
                    },
                    "parent": null,
                    "property": "baz",
                    "start": {
                      "column": 0,
                      "line": 6,
                      "sourceId": "scopes/expressions/originalSource-1",
                    },
                    "type": "member",
                  },
                  "start": {
                    "column": 0,
                    "line": 6,
                    "sourceId": "scopes/expressions/originalSource-1",
                  },
                  "type": "call",
                },
                "start": {
                  "column": 0,
                  "line": 6,
                  "sourceId": "scopes/expressions/originalSource-1",
                },
                "type": "inherit",
              },
              "property": "bar",
              "start": {
                "column": 22,
                "line": 6,
                "sourceId": "scopes/expressions/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 22,
              "line": 6,
              "sourceId": "scopes/expressions/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "const",
      },
    },
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 7,
      "sourceId": "scopes/expressions/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/expressions/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "Object": {
        "refs": [
          {
            "end": {
              "column": 6,
              "line": 5,
              "sourceId": "scopes/expressions/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 0,
              "line": 5,
              "sourceId": "scopes/expressions/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
      "__webpack_require__": {
        "refs": [
          {
            "end": {
              "column": 19,
              "line": 6,
              "sourceId": "scopes/expressions/originalSource-1",
            },
            "meta": {
              "end": {
                "column": 21,
                "line": 6,
                "sourceId": "scopes/expressions/originalSource-1",
              },
              "parent": null,
              "property": "i",
              "start": {
                "column": 0,
                "line": 6,
                "sourceId": "scopes/expressions/originalSource-1",
              },
              "type": "member",
            },
            "start": {
              "column": 0,
              "line": 6,
              "sourceId": "scopes/expressions/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "global",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 7,
      "sourceId": "scopes/expressions/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/expressions/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings with proper types: getScopes finds scope bindings with proper types at line 5 column 0 1`] = `
[
  {
    "bindings": {
      "aConst": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 18,
                "line": 15,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 15,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 15,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 15,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "const",
          },
        ],
        "type": "const",
      },
      "aLet": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 9,
                "line": 14,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 14,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 8,
              "line": 14,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 14,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
      "aVar": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 9,
                "line": 13,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 13,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 8,
              "line": 13,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 13,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "cls": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 11,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 7,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 9,
              "line": 7,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 7,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "class-decl",
          },
        ],
        "type": "let",
      },
      "def": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 19,
                "line": 1,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 1,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 10,
              "line": 1,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "importName": "default",
            "start": {
              "column": 7,
              "line": 1,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "import-decl",
          },
        ],
        "type": "import",
      },
      "fn": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 16,
                "line": 6,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 6,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 6,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 6,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "named": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 25,
                "line": 2,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 2,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 14,
              "line": 2,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "importName": "named",
            "start": {
              "column": 9,
              "line": 2,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "import-decl",
          },
        ],
        "type": "import",
      },
      "namespace": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 30,
                "line": 4,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 4,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 21,
              "line": 4,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "start": {
              "column": 12,
              "line": 4,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "import-ns-decl",
          },
        ],
        "type": "const",
      },
      "otherNamed": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 39,
                "line": 3,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 28,
              "line": 3,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "importName": "thing",
            "start": {
              "column": 18,
              "line": 3,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "import-decl",
          },
        ],
        "type": "import",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 25,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 25,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 25,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings with proper types: getScopes finds scope bindings with proper types at line 9 column 0 1`] = `
[
  {
    "bindings": {
      "arguments": {
        "refs": [],
        "type": "implicit",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "method",
    "end": {
      "column": 3,
      "line": 10,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 2,
      "line": 8,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "cls": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 11,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 7,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 9,
              "line": 7,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 7,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "class-inner",
          },
        ],
        "type": "const",
      },
    },
    "displayName": "Class",
    "end": {
      "column": 1,
      "line": 11,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 7,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "aConst": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 18,
                "line": 15,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 15,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 15,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 15,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "const",
          },
        ],
        "type": "const",
      },
      "aLet": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 9,
                "line": 14,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 14,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 8,
              "line": 14,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 14,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
      "aVar": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 9,
                "line": 13,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 13,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 8,
              "line": 13,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 13,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "cls": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 11,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 7,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 9,
              "line": 7,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 7,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "class-decl",
          },
        ],
        "type": "let",
      },
      "def": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 19,
                "line": 1,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 1,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 10,
              "line": 1,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "importName": "default",
            "start": {
              "column": 7,
              "line": 1,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "import-decl",
          },
        ],
        "type": "import",
      },
      "fn": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 16,
                "line": 6,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 6,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 6,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 6,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "named": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 25,
                "line": 2,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 2,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 14,
              "line": 2,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "importName": "named",
            "start": {
              "column": 9,
              "line": 2,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "import-decl",
          },
        ],
        "type": "import",
      },
      "namespace": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 30,
                "line": 4,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 4,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 21,
              "line": 4,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "start": {
              "column": 12,
              "line": 4,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "import-ns-decl",
          },
        ],
        "type": "const",
      },
      "otherNamed": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 39,
                "line": 3,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 28,
              "line": 3,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "importName": "thing",
            "start": {
              "column": 18,
              "line": 3,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "import-decl",
          },
        ],
        "type": "import",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 25,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 25,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 25,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings with proper types: getScopes finds scope bindings with proper types at line 18 column 0 1`] = `
[
  {
    "bindings": {
      "arguments": {
        "refs": [
          {
            "end": {
              "column": 11,
              "line": 19,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 2,
              "line": 19,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "implicit",
      },
      "this": {
        "refs": [
          {
            "end": {
              "column": 6,
              "line": 18,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "meta": null,
            "start": {
              "column": 2,
              "line": 18,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "ref",
          },
        ],
        "type": "implicit",
      },
    },
    "displayName": "inner",
    "end": {
      "column": 1,
      "line": 20,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 1,
      "line": 17,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "type": "function",
  },
  {
    "bindings": {
      "inner": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 20,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 1,
                "line": 17,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 15,
              "line": 17,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "start": {
              "column": 10,
              "line": 17,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "fn-expr",
          },
        ],
        "type": "const",
      },
    },
    "displayName": "Function Expression",
    "end": {
      "column": 1,
      "line": 20,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 1,
      "line": 17,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "aConst": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 18,
                "line": 15,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 15,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 15,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 15,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "const",
          },
        ],
        "type": "const",
      },
      "aLet": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 9,
                "line": 14,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 14,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 8,
              "line": 14,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 14,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
      "aVar": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 9,
                "line": 13,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 13,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 8,
              "line": 13,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 13,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "cls": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 11,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 7,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 9,
              "line": 7,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 7,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "class-decl",
          },
        ],
        "type": "let",
      },
      "def": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 19,
                "line": 1,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 1,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 10,
              "line": 1,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "importName": "default",
            "start": {
              "column": 7,
              "line": 1,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "import-decl",
          },
        ],
        "type": "import",
      },
      "fn": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 16,
                "line": 6,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 6,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 6,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 6,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "named": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 25,
                "line": 2,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 2,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 14,
              "line": 2,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "importName": "named",
            "start": {
              "column": 9,
              "line": 2,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "import-decl",
          },
        ],
        "type": "import",
      },
      "namespace": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 30,
                "line": 4,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 4,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 21,
              "line": 4,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "start": {
              "column": 12,
              "line": 4,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "import-ns-decl",
          },
        ],
        "type": "const",
      },
      "otherNamed": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 39,
                "line": 3,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 28,
              "line": 3,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "importName": "thing",
            "start": {
              "column": 18,
              "line": 3,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "import-decl",
          },
        ],
        "type": "import",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 25,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 25,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 25,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "type": "object",
  },
]
`;

exports[`Parser.getScopes finds scope bindings with proper types: getScopes finds scope bindings with proper types at line 23 column 0 1`] = `
[
  {
    "bindings": {
      "blockFn": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 22,
                "line": 23,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 2,
                "line": 23,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 18,
              "line": 23,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "start": {
              "column": 11,
              "line": 23,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "let",
      },
    },
    "displayName": "Block",
    "end": {
      "column": 1,
      "line": 24,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 22,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {
      "aConst": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 18,
                "line": 15,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 15,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 12,
              "line": 15,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 15,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "const",
          },
        ],
        "type": "const",
      },
      "aLet": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 9,
                "line": 14,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 14,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 8,
              "line": 14,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 14,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "let",
          },
        ],
        "type": "let",
      },
      "aVar": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 9,
                "line": 13,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 13,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 8,
              "line": 13,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "start": {
              "column": 4,
              "line": 13,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "var",
          },
        ],
        "type": "var",
      },
      "cls": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 1,
                "line": 11,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 7,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 9,
              "line": 7,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "start": {
              "column": 6,
              "line": 7,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "class-decl",
          },
        ],
        "type": "let",
      },
      "def": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 19,
                "line": 1,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 1,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 10,
              "line": 1,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "importName": "default",
            "start": {
              "column": 7,
              "line": 1,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "import-decl",
          },
        ],
        "type": "import",
      },
      "fn": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 16,
                "line": 6,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 6,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 11,
              "line": 6,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "start": {
              "column": 9,
              "line": 6,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "fn-decl",
          },
        ],
        "type": "var",
      },
      "named": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 25,
                "line": 2,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 2,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 14,
              "line": 2,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "importName": "named",
            "start": {
              "column": 9,
              "line": 2,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "import-decl",
          },
        ],
        "type": "import",
      },
      "namespace": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 30,
                "line": 4,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 4,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 21,
              "line": 4,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "start": {
              "column": 12,
              "line": 4,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "import-ns-decl",
          },
        ],
        "type": "const",
      },
      "otherNamed": {
        "refs": [
          {
            "declaration": {
              "end": {
                "column": 39,
                "line": 3,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
              "start": {
                "column": 0,
                "line": 3,
                "sourceId": "scopes/binding-types/originalSource-1",
              },
            },
            "end": {
              "column": 28,
              "line": 3,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "importName": "thing",
            "start": {
              "column": 18,
              "line": 3,
              "sourceId": "scopes/binding-types/originalSource-1",
            },
            "type": "import-decl",
          },
        ],
        "type": "import",
      },
      "this": {
        "refs": [],
        "type": "implicit",
      },
    },
    "displayName": "Module",
    "end": {
      "column": 0,
      "line": 25,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Lexical Global",
    "end": {
      "column": 0,
      "line": 25,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "type": "block",
  },
  {
    "bindings": {},
    "displayName": "Global",
    "end": {
      "column": 0,
      "line": 25,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "scopeKind": "",
    "start": {
      "column": 0,
      "line": 1,
      "sourceId": "scopes/binding-types/originalSource-1",
    },
    "type": "object",
  },
]
`;
